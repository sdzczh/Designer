[{"id":"743b68934be546ac8b4b7cd46c619570","title":"ä¸€äº›ç®€å•çš„ Gas ä¼˜åŒ–åŸºç¡€","content":"ç¼–å†™æ™ºèƒ½åˆçº¦æ˜¯å¾ˆéš¾çš„ã€‚ä¸ä»…æ˜¯è¦ç¡®ä¿ä»£ç æ²¡æœ‰æ¼æ´ï¼Œè€Œä¸”ä½ çš„ç¼–å†™æ–¹å¼è¿˜ä¼šå½±å“åˆ°ç”¨æˆ·ä¸å®ƒäº¤äº’æ—¶çš„å¼€é”€ã€‚\nå½“ä½ åœ¨ç¼–è¯‘æ™ºèƒ½åˆçº¦æ—¶ï¼Œæ¯ä¸€è¡Œ Solidity ä»£ç éƒ½ä¼šè½¬æ¢ä¸ºä¸€ç³»åˆ—çš„æ“ä½œ(æ“ä½œç )ï¼Œè¿™äº›æ“ä½œéƒ½æœ‰å¯¹åº”çš„ gas æ¶ˆè€—ã€‚ä½ çš„ç›®æ ‡å°±æ˜¯è¦è®©ä½ çš„ç¨‹åºä½¿ç”¨å°½å¯èƒ½å°‘çš„æ“ä½œç (æˆ–è€…ç”¨æ›´ä¾¿å®œçš„)ã€‚\nå½“ç„¶ï¼Œè¿™äº›éƒ½å¾ˆå¤æ‚ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦æ…¢æ…¢æ¥ã€‚ä¸å…¶é™·å…¥æ“ä½œç å…”å­æ´ï¼Œä¸å¦‚å°è¯•ä¸€äº›å¯ä»¥ç›´æ¥åº”ç”¨åˆ°åˆçº¦é‡Œçš„ç®€å•ä¼˜åŒ–ã€‚\nå‡çº§ Solidity ç‰ˆæœ¬åˆçº¦ä¸­ï¼ŒSolidity ç‰ˆæœ¬æ˜¯åœ¨æ–‡ä»¶æœ€é¡¶éƒ¨å®šä¹‰çš„ï¼Œåƒè¿™æ ·ï¼š\npragma solidity ^0.8.0;\nåœ¨è¿™é‡Œï¼Œ^0.8.0æ„æ€æ˜¯åˆçº¦ä½¿ç”¨0.8.xç³»åˆ—æœ€æ–°å¯ç”¨çš„Solidityç‰ˆæœ¬ã€‚\næ›´æ–°çš„ Solidity ç‰ˆæœ¬æœ‰æ—¶ä¼šåœ¨ä¿®å¤bugå’Œå®‰å…¨è¡¥ä¸æ—¶å°±ä¼˜åŒ–äº† gas ï¼Œæ‰€ä»¥ï¼Œå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ä¸ä»…ä¼šè®©ä½ çš„ä»£ç æ›´å®‰å…¨ï¼Œé€šå¸¸ä¹Ÿä¼šæ›´ä¾¿å®œã€‚\nè¦æ•è·æœ€è¿‘å¤§å¤šæ•°ä¼˜åŒ–ï¼Œè¯·ç¡®ä¿ä½ çš„ç‰ˆæœ¬åœ¨0.8.4ä»¥ä¸Šï¼š\npragma solidity ^0.8.4;\næ”¾å¼ƒ Counters.solå¦‚æœä½ çš„ NFT é¡¹ç›®æˆ–è€…ä»£å¸æ­£åœ¨ä½¿ç”¨ OpenZeppelin åˆçº¦ï¼Œå¾ˆå¯èƒ½ä½ æ­£åœ¨ç”¨ OZ çš„Counters.solåº“ã€‚\nåœ¨è¾ƒæ–°çš„ Solidity ç‰ˆæœ¬(0.8çš„æ›´é«˜ç‰ˆæœ¬)ï¼Œè¿™ä¸ªåº“å¹¶ä¸æ˜¯å¾ˆæœ‰ç”¨ï¼Œç”¨å¸¸è§„æ•´æ•°æ›¿ä»£å®ƒå¯ä»¥èŠ‚çœä¸€äº›gasï¼š\ncontract TestCounters &#123;\n-\tusing Counters for Counters.Counter;\n-\tCounters.Counter private _tokenIds;\n\t\n+\tuint256 private _tokenId;\n\t\n\tfunction mint() public &#123;\n-\t\t_tokenIds.increment();\n-\t\tuint256 tokenId &#x3D; _tokenIds.current();\n\t\t\n+\t\tuint256 tokenId &#x3D; _tokenId++;\n\t&#125;\n&#125;\næ ‡è®°ä¸å¯å˜å˜é‡æ— è®ºæ˜¯ä»£å¸çš„å°æ•°ä½æ•°ï¼ŒUSDC çš„åœ°å€ï¼Œè¿˜æ˜¯æ”¯ä»˜è´¦æˆ·ï¼Œæœ‰æ—¶æˆ‘ä»¬å¹¶ä¸æ‰“ç®—æ›´æ”¹åˆçº¦å˜é‡ã€‚æ­¤æ—¶ï¼Œå°†å®ƒä»¬æ ‡è®°ä¸ºå¸¸é‡ï¼ˆå¦‚æœä½ åœ¨ä»£ç ä¸­ç¼–å†™å®ƒä»¬ï¼‰æˆ–è€…ä¸å¯å˜é‡ï¼ˆå¦‚æœä½ è®¡åˆ’ä¹‹åç»™å®ƒä»¬èµ‹å€¼ï¼Œæ¯”å¦‚ï¼Œé€šè¿‡æ„é€ å‡½æ•°ï¼‰å¯ä»¥é™ä½è®¿é—®è¿™äº›å€¼æ—¶çš„å¼€é”€ï¼š\ncontract TestImmutable &#123;\n\tuint256 internal constant DECIMALS &#x3D; 18;\n\taddress public immutable currencyToken;\n\t\n\tconstructor(address _currencyToken) &#123;\n\t\tcurrencyToken &#x3D; _currencyToken;\n\t&#125;\n&#125;\nunchecked {}ä» Solidity 0.8å¼€å§‹ï¼Œæ‰€æœ‰æ•°å­¦è¿ç®—éƒ½åŒ…æ‹¬æº¢å‡ºæ£€æŸ¥ã€‚è¿™æ˜¯å¾ˆæ£’çš„ï¼ˆæ›¿æ¢äº† SafeMath åº“ï¼Œå¦‚æœä½ è¿˜åœ¨ç”¨å¯ä»¥ä¸¢å¼ƒäº†ï¼‰ï¼Œä½†æ˜¯å®ƒéœ€è¦é¢å¤–çš„ gas å¼€é”€ï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³åœ¨ä¸å¿…è¦çš„æ—¶å€™ç»•å¼€å®ƒã€‚\næº¢å‡ºæ£€æŸ¥çš„æ„ä¹‰åœ¨äºå¸®ä½ æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä» 0 å‡å»æˆ–è€…åŠ åˆ° 2256 ï¼ˆSolidity å¯ä»¥å¤„ç†çš„æœ€å¤§æ•°ï¼‰ä»¥ä¸Šã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ åªæ˜¯å¢åŠ ä»£å¸idæˆ–è€…å­˜å‚¨ERC20å€¼ï¼Œä½ åº”è¯¥ç”¨unchecked &#123;&#125;é€€å‡ºæº¢å‡ºæ£€æŸ¥ï¼š\ncontract TestUnchecked is ERC721 &#123;\n\tERC20 internal immutable paymentToken &#x3D; ERC20(address(0x1));\n\tuint256 internal _tokenId;\n\t\n\tmapping(address &#x3D;&gt; uint256) _balances;\n\t\n\tfunction mint(uint256 amount) public &#123;\n\t\t_mint(msg.sender, _tokenId);\n\t\t\n\t\tunchecked &#123;\n\t\t\t_balances[msg.sender] +&#x3D; amount;\n\t\t\t++tokenId;\n\t\t&#125;\n\t\t\n\t\tpaymentToken.transferFrom(msg.sender, address(this), amount);\n\t&#125;\n&#125;\nè¿™åœ¨forå¾ªç¯ä¸­ç‰¹åˆ«æ–¹ä¾¿ï¼Œiçš„å€¼æ°¸è¿œä¸ä¼šæº¢å‡ºï¼Œæ‰€ä»¥åœ¨æ¯æ¬¡è¿­ä»£ä¸­èŠ‚çœäº†gasï¼š\ncontract TestUncheckedFor &#123;\n\tERC20 internal immutable token &#x3D; ERC20(address(0x1));\n\n\tfunction refundAddresses(address[] calldata accounts) &#123;\n\t\t&#x2F;&#x2F; ğŸ’¡ pro tip: save the array length to a variable instead of\n\t\t&#x2F;&#x2F; inlining to save gas on every iteration.\n\t\tuint256 len &#x3D; accounts.length;\n\t\t\n\t\tfor (uint256 i &#x3D; 0; i &lt; len; ) &#123;\n\t\t\ttoken.transfer(accounts[i], 1 ether);\n\t\t\t\n\t\t\tunchecked &#123; ++i; &#125;\n\t\t&#125;\n\t&#125;\n&#125;\né¿å…å°†å‚æ•°å¤åˆ¶åˆ°å†…å­˜å¯¹äºæŸäº›ç±»å‹çš„å‚æ•°ï¼Œå¦‚å­—ç¬¦ä¸²æˆ–è€…æ•°ç»„ï¼ŒSolidity ä¼šå¼ºåˆ¶æŒ‡å®šå­˜å‚¨ä½ç½®(memoryæˆ–è€…calldata)ã€‚è¿™é‡Œç”¨calldataä¼šä¾¿å®œçš„å¤šï¼Œæ‰€ä»¥ä½ ä¼šå¸Œæœ›å°½å¯èƒ½å¤šçš„ä½¿ç”¨å®ƒï¼Œè€Œmemoryåªåœ¨ä½ éœ€è¦ä¿®æ”¹å‚æ•°æ—¶æ‰ç”¨ï¼ˆå› ä¸ºcalldataä¼šè®©å®ƒä»¬åªè¯»ï¼‰ã€‚\nä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯Solidity 0.8.4æœ‰ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œå…è®¸å¼€å‘è€…è‡ªå®šä¹‰é”™è¯¯ï¼Œå°±åƒå®šä¹‰äº‹ä»¶ä¸€æ ·ï¼š\ncontract TestErrors &#123;\n\t&#x2F;&#x2F; first, define the error\n\terror Unauthorized();\n\t\n\t&#x2F;&#x2F; errors can have parameters, like events\n\terror AlreadyMinted(uint256 id);\n\t\n\t&#x2F;&#x2F; ğŸ’¡ pro tip: this gets set to the deployer address\n\t&#x2F;&#x2F; sometimes, you don&#39;t need Ownable :)\n\taddress internal immutable owner &#x3D; msg.sender;\n\t\n\tmapping(uint256 &#x3D;&gt; address) _ownerOf;\n\t\n\tfunction ownerMint(uint256 tokenId) public &#123;\n\t\tif (msg.sender !&#x3D; owner) revert Unauthorized();\n\t\tif (_ownerOf[tokenId] !&#x3D; address(0)) revert AlreadyMinted(tokenId);\n\t\t\n\t\t_ownerOf[tokenId] &#x3D; msg.sender;\n\t&#125;\n&#125;\nä½ åº”è¯¥å°è¯•ç”¨è‡ªå®šä¹‰é”™è¯¯ä»£æ›¿ä»¥å‰çš„è¿”å›å­—ç¬¦ä¸²(require(true, &quot;error message here&quot;))ï¼Œå› ä¸ºä¸åŒçš„é”™è¯¯ä¿¡æ¯å¯èƒ½ä¼šé¢å¤–å¢åŠ gaså¼€é”€ã€‚\nå…¶ä»–å½“ä½¿ç”¨ä»»ä½•ä¸€ç§è®¡æ•°å™¨ï¼ˆå¦‚_tokenIdï¼‰ï¼Œä»1å¼€å§‹è€Œä¸æ˜¯ä»0å¼€å§‹ï¼Œä¼šè®©ç¬¬ä¸€æ¬¡ mint ä¾¿å®œä¸€äº›ã€‚é€šå¸¸ï¼Œå†™å…¥æ²¡æœ‰å€¼çš„æ§½æ¯”å†™å…¥æœ‰å€¼çš„æ§½æ›´è´µã€‚\næ­¤å¤–ï¼Œæ•´æ•°é€’å¢ï¼Œ++i(è¿”å›ä¸Šä¸€æ¬¡çš„å€¼ï¼Œç„¶åå†åŠ 1)æ¯”i++(åŠ 1ï¼Œç„¶åè¿”å›æ–°çš„å€¼)æ›´ä¾¿å®œã€‚å¦‚æœä½ ä»…ä»…éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨è€Œä¸éœ€è¦å®ƒçš„è¿”å›å€¼ï¼Œä½ å¯èƒ½ä¼šæ›´æƒ³è¦ç¬¬ä¸€ç§ã€‚\né™¤æ³•ï¼ŒSolidity æ’å…¥äº†ä¸€ä¸ªæ£€æŸ¥ï¼Œç¡®ä¿æ²¡æœ‰è¢«0é™¤ã€‚å¦‚æœä½ å¯ä»¥ç¡®å®šé™¤æ•°ä¸ä¸º0ï¼Œä½ å¯ä»¥ä½¿ç”¨æ±‡ç¼–æ¥æ‰§è¡Œæ“ä½œï¼Œè¿™æ ·å¯ä»¥èŠ‚çœä¸€äº›é¢å¤–çš„gasï¼š\ncontract TestDivision &#123;\n\tfunction divide_by_2(uint256 a) public pure returns (uint256 result) &#123;\n\t\tassembly &#123;\n\t\t\tresult :&#x3D; div(a, 2)\n\t\t&#125;\n\t&#125;\n&#125;\næœ€åï¼Œæ ‡è®°ä¸ºpayableçš„å‡½æ•°ä¼šæ¯”å…¶ä»–å‡½æ•°è°ƒç”¨æ—¶ä¾¿å®œã€‚å°†æ‰€æœ‰å‡½æ•°æ ‡è®°ä¸º payable å¯èƒ½ä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼Œå› ä¸ºåœ¨ä½¿ç”¨ Etherscan æ—¶ä¼šæœ‰ä¸€ä¸ªé¢å¤–å­—æ®µï¼Œå¯èƒ½ä¼šæ„å¤–å‘åˆçº¦å‘é€ ETH ã€‚ç›¸å¯¹å®‰å…¨çš„ä¼˜åŒ–æ˜¯å°†æ„é€ å‡½æ•°æ ‡è®°ä¸ºpayableï¼Œå¯ä»¥ç¨å¾®é™ä½ä¸€ç‚¹éƒ¨ç½²çš„å¼€é”€ã€‚\nç»“æŸè™½ç„¶å¾ˆéš¾ï¼Œä½† Solidity å’Œ EVM çš„ä¸–ç•ŒçœŸçš„å¾ˆæœ‰æ„æ€ã€‚æœ‰äº›å¼€å‘è€…å¯èƒ½èŠ±è´¹æ•°å¤©æ—¶é—´æ¥è°ƒæ•´ä»£ç ï¼Œåªä¸ºå‹ç¼©ä¸€ç‚¹é¢å¤–çš„gasæ¶ˆè€—ã€‚\næˆ‘å¸Œæœ›ä¸Šé¢çš„æ¸…å•å¯ä»¥æˆä¸ºä¸€ä¸ªå¥½çš„å‚è€ƒï¼Œå¸®åŠ©ä½ çš„åˆçº¦ä¾¿å®œä¸€ç‚¹ã€‚\n","slug":"ä¸€äº›ç®€å•çš„-Gas-ä¼˜åŒ–åŸºç¡€/index","date":"2022-03-24T13:28:30.000Z","categories_index":"Solidity","tags_index":"åŒºå—é“¾,ç™¾ç§‘","author_index":"Bug Designer"},{"id":"c818a12081dd186c3b840bc9579f9407","title":"æµ…è°ˆNFTçš„å…ƒæ•°æ®æ ‡å‡†","content":"å‰è¨€ä¸ºOpenSeaç­‰å¹³å°æä¾›èµ„äº§å…ƒæ•°æ®å¯ä»¥ä¸ºæ•°å­—èµ„äº§æä¾›ä¸°å¯Œçš„æ•°æ®å¹¶è½»æ¾åœ°åœ¨åº”ç”¨ç¨‹åºä¸­æ˜¾ç¤ºå®ƒä»¬ã€‚ç»™å®šæ™ºèƒ½åˆçº¦ä¸Šçš„æ•°å­—èµ„äº§é€šå¸¸ä»…ç”±å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆä¾‹å¦‚ï¼ŒERC721 ä¸­çš„ token_idè¡¨ç¤ºï¼Œå› æ­¤å…ƒæ•°æ®å…è®¸è¿™äº›èµ„äº§å…·æœ‰å…¶ä»–å±æ€§ï¼Œä¾‹å¦‚åç§°ã€æè¿°å’Œå›¾åƒã€‚\nå®ç°ä»¤ç‰ŒURIä¸ºäº†è®© OpenSea ä¸º ERC721 å’Œ ERC1155 èµ„äº§æå–é“¾ä¸‹å…ƒæ•°æ®ï¼Œæ‚¨çš„åˆçº¦éœ€è¦è¿”å›ä¸€ä¸ª URIï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­æ‰¾åˆ°å…ƒæ•°æ®ã€‚ä¸ºäº†æ‰¾åˆ°è¿™ä¸ªURIï¼Œæˆ‘ä»¬ä½¿ç”¨ERC721ä¸­çš„æ–¹æ³•å’ŒERC1155ä¸­çš„æ–¹æ³•ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹Creature åˆçº¦ä¸­çš„æ–¹æ³•ã€‚\n&#x2F;**\n * @dev Returns an URI for a given token ID\n *&#x2F;\nfunction tokenURI(uint256 _tokenId) public view returns (string) &#123;\n  return Strings.strConcat(\n      baseTokenURI(),\n      Strings.uint2str(_tokenId)\n  );\n&#125;\nERC721 ä¸­çš„å‡½æ•°æˆ–ERC1155åˆçº¦ä¸­çš„å‡½æ•°åº”è¿”å› HTTP æˆ– IPFS URLï¼Œä¾‹å¦‚https://opensea-creatures-api.herokuapp.com/api/creature/3ã€‚æŸ¥è¯¢æ—¶ï¼Œæ­¤ URL åº”åè¿‡æ¥è¿”å›ä¸€ä¸ª JSON æ•°æ®å—ï¼Œå…¶ä¸­åŒ…å«æ‚¨çš„ä»¤ç‰Œçš„å…ƒæ•°æ®ã€‚\nå…ƒæ•°æ®ç»“æ„OpenSea æ”¯æŒæ ¹æ®å®˜æ–¹ ERC721 å…ƒæ•°æ®æ ‡å‡†æˆ–Enjin å…ƒæ•°æ®å»ºè®®æ„å»ºçš„å…ƒæ•°æ®ã€‚\næ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æ”¯æŒå…¶ä»–å‡ ä¸ªå…è®¸å¤šåª’ä½“é™„ä»¶çš„å±æ€§ï¼ˆåŒ…æ‹¬éŸ³é¢‘ã€è§†é¢‘å’Œ 3D æ¨¡å‹ï¼‰ä»¥åŠæ‚¨çš„é¡¹ç›®çš„äº¤äº’å¼ç‰¹å¾ï¼Œä¸ºæ‚¨æä¾› OpenSea å¸‚åœºä¸Šçš„æ‰€æœ‰æ’åºå’Œè¿‡æ»¤åŠŸèƒ½ã€‚\nä»¥ä¸‹æ˜¯å…¶ä¸­ä¸€ç§ OpenSea ç”Ÿç‰©çš„å…ƒæ•°æ®ç¤ºä¾‹ï¼š\n&#123;\n  &quot;description&quot;: &quot;Friendly OpenSea Creature that enjoys long swims in the ocean.&quot;, \n  &quot;external_url&quot;: &quot;https:&#x2F;&#x2F;openseacreatures.io&#x2F;3&quot;, \n  &quot;image&quot;: &quot;https:&#x2F;&#x2F;storage.googleapis.com&#x2F;opensea-prod.appspot.com&#x2F;puffs&#x2F;3.png&quot;, \n  &quot;name&quot;: &quot;Dave Starbelly&quot;,\n  &quot;attributes&quot;: [ ... ], \n&#125;\n\n\n\n\nimage\nè¿™æ˜¯é¡¹ç›®å›¾åƒçš„ URLã€‚å¯ä»¥æ˜¯å‡ ä¹ä»»ä½•ç±»å‹çš„å›¾åƒï¼ˆåŒ…æ‹¬ SVGï¼ŒOpenSea å°†ç¼“å­˜åˆ° PNGï¼‰ï¼Œå¹¶ä¸”å¯ä»¥æ˜¯IPFS URL æˆ–è·¯å¾„ã€‚æˆ‘ä»¬å»ºè®®ä½¿ç”¨ 350 x 350 çš„å›¾åƒã€‚\n\n\n\nimage_data\nåŸå§‹ SVG å›¾åƒæ•°æ®ï¼Œå¦‚æœæ‚¨æƒ³åŠ¨æ€ç”Ÿæˆå›¾åƒï¼ˆä¸æ¨èï¼‰ã€‚ä»…å½“æ‚¨ä¸åŒ…å«å‚æ•°æ—¶æ‰ä½¿ç”¨å®ƒã€‚\n\n\nexternal_url\nè¿™æ˜¯æ˜¾ç¤ºåœ¨ OpenSea ä¸Šèµ„äº§å›¾åƒä¸‹æ–¹çš„ URLï¼Œå…è®¸ç”¨æˆ·ç¦»å¼€ OpenSea å¹¶åœ¨æ‚¨çš„ç«™ç‚¹ä¸ŠæŸ¥çœ‹è¯¥é¡¹ç›®ã€‚\n\n\ndescription\né¡¹ç›®æè¿°ã€‚\n\n\nname\né¡¹ç›®çš„åç§°ã€‚\n\n\nattributes\nè¿™äº›æ˜¯é¡¹ç›®çš„å±æ€§ï¼Œå°†æ˜¾ç¤ºåœ¨é¡¹ç›®çš„ OpenSea é¡µé¢ä¸Šã€‚\n\n\nbackground_color\nOpenSea ä¸Šé¡¹ç›®çš„èƒŒæ™¯é¢œè‰²ã€‚å¿…é¡»æ˜¯ä¸å¸¦å‰ç½® # çš„å…­å­—ç¬¦åå…­è¿›åˆ¶ã€‚\n\n\nanimation_url\né¡¹ç›®å¤šåª’ä½“é™„ä»¶çš„ URLã€‚æ”¯æŒæ–‡ä»¶æ‰©å±•å GLTFã€GLBã€WEBMã€MP4ã€M4Vã€OGV å’Œ OGGï¼Œä»¥åŠä»…éŸ³é¢‘æ‰©å±•å MP3ã€WAV å’Œ OGAã€‚\n\n\nAnimation_url è¿˜æ”¯æŒ HTML é¡µé¢ï¼Œå…è®¸æ‚¨ä½¿ç”¨ JavaScript ç”»å¸ƒã€WebGL ç­‰æ„å»ºä¸°å¯Œçš„ä½“éªŒå’Œäº¤äº’å¼ NFTã€‚ç°åœ¨æ”¯æŒ HTML é¡µé¢ä¸­çš„è„šæœ¬å’Œç›¸å¯¹è·¯å¾„ã€‚ä½†æ˜¯ï¼Œä¸æ”¯æŒè®¿é—®æµè§ˆå™¨æ‰©å±•ã€‚ || youtube_url      | YouTube è§†é¢‘çš„ URLã€‚                                                                                                                                                                                                                                                 |\nå±æ€§ä¸ºäº†è®©æ‚¨çš„é¡¹ç›®æ›´æœ‰æ´»åŠ›ï¼Œæˆ‘ä»¬è¿˜å…è®¸æ‚¨å°†è‡ªå®šä¹‰â€œå±æ€§â€æ·»åŠ åˆ°æ‚¨çš„å…ƒæ•°æ®ä¸­ï¼Œè¿™äº›å±æ€§å°†æ˜¾ç¤ºåœ¨æ‚¨çš„æ¯ä¸ªèµ„äº§ä¸‹æ–¹ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯å…¶ä¸­ä¸€ç§ OpenSea ç”Ÿç‰©çš„å±æ€§ã€‚ä¸ºäº†ç”Ÿæˆè¿™äº›å±æ€§ï¼Œå…ƒæ•°æ®ä¸­åŒ…å«ä»¥ä¸‹å±æ€§æ•°ç»„ï¼š\n...\n&#123;\n&quot;attributes&quot;: [\n    &#123;\n      &quot;trait_type&quot;: &quot;Base&quot;, \n      &quot;value&quot;: &quot;Starfish&quot;\n    &#125;, \n    &#123;\n      &quot;trait_type&quot;: &quot;Eyes&quot;, \n      &quot;value&quot;: &quot;Big&quot;\n    &#125;, \n    &#123;\n      &quot;trait_type&quot;: &quot;Mouth&quot;, \n      &quot;value&quot;: &quot;Surprised&quot;\n    &#125;, \n    &#123;\n      &quot;trait_type&quot;: &quot;Level&quot;, \n      &quot;value&quot;: 5\n    &#125;, \n    &#123;\n      &quot;trait_type&quot;: &quot;Stamina&quot;, \n      &quot;value&quot;: 1.4\n    &#125;, \n    &#123;\n      &quot;trait_type&quot;: &quot;Personality&quot;, \n      &quot;value&quot;: &quot;Sad&quot;\n    &#125;, \n    &#123;\n      &quot;display_type&quot;: &quot;boost_number&quot;, \n      &quot;trait_type&quot;: &quot;Aqua Power&quot;, \n      &quot;value&quot;: 40\n    &#125;, \n    &#123;\n      &quot;display_type&quot;: &quot;boost_percentage&quot;, \n      &quot;trait_type&quot;: &quot;Stamina Increase&quot;, \n      &quot;value&quot;: 10\n    &#125;, \n    &#123;\n      &quot;display_type&quot;: &quot;number&quot;, \n      &quot;trait_type&quot;: &quot;Generation&quot;, \n      &quot;value&quot;: 2\n    &#125;\n  ]\n&#125;\næ—¥æœŸç‰¹å¾OpenSea è¿˜æ”¯æŒ. è¿™ç§ç±»å‹çš„ç‰¹å¾å°†å‡ºç°åœ¨â€œæ’åâ€å’Œâ€œç»Ÿè®¡â€é™„è¿‘çš„å³æ ä¸­ã€‚ä¼ å…¥ä¸€ä¸ª unix æ—¶é—´æˆ³ï¼ˆç§’ï¼‰ä½œä¸ºå€¼.\n&#123;\n  &quot;display_type&quot;: &quot;date&quot;, \n  &quot;trait_type&quot;: &quot;birthday&quot;, \n  &quot;value&quot;: 1546360800\n&#125;\n\nIPFS å’Œ Arweave URIOpenSea æ”¯æŒå°† NFT å…ƒæ•°æ®å­˜å‚¨åœ¨åˆ†æ•£çš„æ–‡ä»¶ç½‘ç»œä¸­ï¼Œå› æ­¤å®ƒä»¬ä¸èƒ½è¢«ä¸­å¤®æ–¹ä¿®æ”¹ã€‚\nå¦‚æœæ‚¨ä½¿ç”¨IPFSæ¥æ‰˜ç®¡å…ƒæ•°æ®ï¼Œåˆ™æ‚¨çš„URLåº”é‡‡ç”¨ipfs://&lt;hash&gt;. ä¾‹å¦‚ipfs://QmTy8w65yBXgyfG2ZBg5TrfB2hPjrDQH3RCQFJGkARStJbã€‚\nArweaveçš„ç­‰ä»·ç‰©æ˜¯. ä¾‹å¦‚ar://&lt;hash&gt;ã€‚ar://&lt;hash&gt;ar://jK9sR4OrYvODj7PD3czIAyNJalub0-vdV_JAg1NqQ-o\n","slug":"æµ…è°ˆNFTçš„å…ƒæ•°æ®æ ‡å‡†/index","date":"2022-03-19T14:38:20.000Z","categories_index":"NFT","tags_index":"åŒºå—é“¾,NFT,ç™¾ç§‘","author_index":"Bug Designer"},{"id":"0611b829126354c2a4ab4275e956e0b0","title":"é€šç¼©åˆ†çº¢å¸Safemoonè§£è¯»","content":"1ã€SafemoonåŸç†Safemoonæ˜¯ä¸€ç§é€šç¼©åˆ†çº¢å¸ï¼Œé€šç¼©æŒ‡çš„æ˜¯æ¯æ¬¡è½¬è´¦éƒ½ä¼šæ”¶å–ä¸€å®šæ‰‹ç»­è´¹ï¼Œè¿™äº›æ‰‹ç»­è´¹ä¼šç›´æ¥é”€æ¯ï¼Œè¿›è€Œå¯¼è‡´æ€»é‡çš„é€šç¼©ã€‚åˆ†çº¢æŒ‡çš„æ˜¯ï¼Œç”¨æˆ·çš„ä½™é¢ä¼šéšç€å…¶ä»–ç”¨æˆ·è½¬è´¦è€Œå¢åŠ ã€‚\nSafemoonçš„åŸºæœ¬åŸç†ç”¨ä¸€ä¸ªæ¯”å–»æ¥è¯´å°±æ˜¯ï¼Œå°†ä¸€å—å›ºå®šè›‹ç³•ï¼ˆ_tTotalï¼‰åˆ†ç»™æ€»é‡ä¼šå˜åŒ–çš„ç›˜å­ä¸­ï¼ˆ_rTotalï¼‰ï¼Œæ¯æ¬¡è½¬è´¦éƒ½ä¼šæ‰“ç¢ä¸€éƒ¨åˆ†ç›˜å­ï¼Œè¿™æ ·å‰©ä½™ç›˜å­åˆ†åˆ°çš„è›‹ç³•å°±å˜å¤šäº†ã€‚\n2ã€ æ•°æ®ç»“æ„mapping (address &#x3D;&gt; uint256) private _rOwned;\nmapping (address &#x3D;&gt; uint256) private _tOwned;\nmapping (address &#x3D;&gt; mapping (address &#x3D;&gt; uint256)) private _allowances;\n \nmapping (address &#x3D;&gt; bool) private _isExcludedFromFee;\n \nmapping (address &#x3D;&gt; bool) private _isExcluded;\naddress[] private _excluded;\n   \nuint256 private constant MAX &#x3D; ~uint256(0);\nuint256 private _tTotal &#x3D; 1000000000 * 10**6 * 10**9;\nuint256 private _rTotal &#x3D; (MAX - (MAX % _tTotal));\nuint256 private _tFeeTotal;\n \nstring private _name &#x3D; &quot;SafeMoon&quot;;\nstring private _symbol &#x3D; &quot;SAFEMOON&quot;;\nuint8 private _decimals &#x3D; 9;\n\nuint256 public _taxFee &#x3D; 5;\nuint256 private _previousTaxFee &#x3D; _taxFee;\n\nuint256 public _liquidityFee &#x3D; 5;\nuint256 private _previousLiquidityFee &#x3D; _liquidityFee;\n \nIUniswapV2Router02 public immutable uniswapV2Router;\naddress public immutable uniswapV2Pair;\n\nbool inSwapAndLiquify;\nbool public swapAndLiquifyEnabled &#x3D; true;\n\nuint256 public _maxTxAmount &#x3D; 5000000 * 10**6 * 10**9;\nuint256 private numTokensSellToAddToLiquidity &#x3D; 500000 * 10**6 * 10**9;\n_tTotalï¼šå¯¹å¤–å±•ç¤ºçš„å¸æ€»é‡ï¼Œä¸º1000000000 * 106 * 109ï¼Œå¯ä»¥çœ‹å‡ºæ˜¯æ€»çš„è›‹ç³•\n_rTotalï¼šæ˜¯å†…éƒ¨å®é™…çš„å¸æ€»é‡ï¼Œä¸º2^256-(2^256%_tTotal)ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œå¯ä»¥çœ‹å‡ºæ˜¯ç›˜å­çš„æ•°é‡\n_rOwned : ç”¨æˆ·å†…éƒ¨æŒæœ‰çš„å®é™…å¸æ•°é‡ï¼Œå¯ä»¥çœ‹æˆæ˜¯æ¯ä¸ªç”¨æˆ·æ‹¥æœ‰çš„ç›˜å­æ•°é‡\n_tOwned ï¼šåªç”¨äºéåˆ†çº¢ç”¨æˆ·çš„è½¬è´¦ï¼Œå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå¸®åŠ©ç±»\n_allowancesï¼šç±»ä¼¼äºERC20çš„allowanceï¼ŒæŒ‡ç”¨æˆ·æˆæƒæŸäº›è´¦æˆ·çš„å¯ä½¿ç”¨é¢åº¦\n_isExcludedFromFeeï¼šè´¦æˆ·ç™½åå•ï¼Œç”¨æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦è½¬è´¦æ‰‹ç»­è´¹\n_isExcludedï¼šè´¦æˆ·é»‘åå•ï¼Œç”¨æ¥åˆ¤æ–­æ˜¯å¦å‚ä¸åˆ†çº¢ï¼Œé»˜è®¤æ‰€æœ‰ç”¨æˆ·éƒ½ä¼šå‚ä¸åˆ†çº¢\n_excludedï¼šé»‘åå•æ•°ç»„\n_tFeeTotalï¼šæ”¶å–çš„æ‰‹ç»­è´¹ï¼Œå¯ä»¥çœ‹æˆæ˜¯æ‰“ç¢äº†å¤šå°‘ç›˜å­ï¼Œä½†æ˜¯ä¸å½±å“æ€»è›‹ç³•_tTotal\n_nameï¼šä»£å¸åç§°\n_symbolï¼šä»£å¸ä»£ç \n_decimalsï¼šä»£å¸ç²¾åº¦\n_taxFeeï¼šè½¬è´¦æ”¶å–çš„æ‰‹ç»­è´¹ï¼Œè¿™éƒ¨åˆ†æ‰‹ç»­è´¹ä¼šç›´æ¥é”€æ¯ï¼Œè¿›è€Œå¯¼è‡´_rTotalå‡å°‘ï¼Œä¹Ÿå°±æ˜¯æ€»é‡çš„é€šç¼©ã€‚\n_previousTaxFeeï¼šä¸Šä¸€æ¬¡è®¾ç½®çš„æ‰‹ç»­è´¹ï¼Œæ˜¯ä¸ªå†å²è®°å½•\n_liquidityFeeï¼šè½¬è´¦æ”¶å–çš„æµåŠ¨æ€§æ‰‹ç»­è´¹ï¼Œè¿™éƒ¨åˆ†æ‰‹ç»­è´¹ä¼šæ·»åŠ åˆ°uniswapçš„äº¤æ˜“å¯¹é‡Œ\n_previousLiquidityFeeï¼šä¸Šä¸€æ¬¡è®¾ç½®çš„æ‰‹ç»­è´¹ï¼Œæ˜¯ä¸ªå†å²è®°å½•\nuniswapV2Routerï¼šuniswapçš„è·¯ç”±å™¨ï¼Œç”¨äºæ·»åŠ æµåŠ¨æ€§\nuniswapV2Pairï¼šåœ¨uniswapçš„åˆ›å»ºçš„SafeMoon-ETHäº¤æ˜“å¯¹\ninSwapAndLiquifyï¼šç”¨äºlockTheSwapè¿™ä¸ªmodifierï¼Œç”¨æ¥åŠ é”çš„\nswapAndLiquifyEnabledï¼šå¼€å…³ï¼Œè¦ä¸è¦å°†æµåŠ¨æ€§æ‰‹ç»­è´¹æ·»åŠ åˆ°uniswapçš„äº¤æ˜“å¯¹é‡Œ\n_maxTxAmountï¼šæ¯æ¬¡è½¬è´¦æœ€å¤šå¯è½¬å¤šå°‘ä»£å¸\nnumTokensSellToAddToLiquidityï¼šå½“ç´¯ç§¯çš„æµåŠ¨æ€§æ‰‹ç»­è´¹å¤§äºè¿™ä¸ªå€¼å¾—æ—¶å€™ï¼Œæ‰ä¼šå»uniswapæ·»åŠ æµåŠ¨æ€§\n3ã€æ„é€ å‡½æ•°constructor () public &#123;\n        _rOwned[_msgSender()] &#x3D; _rTotal;\n        \n        IUniswapV2Router02 _uniswapV2Router &#x3D; IUniswapV2Router02(0x05fF2B0DB69458A0750badebc4f9e13aDd608C7F);\n         &#x2F;&#x2F; Create a uniswap pair for this new token\n        uniswapV2Pair &#x3D; IUniswapV2Factory(_uniswapV2Router.factory())\n            .createPair(address(this), _uniswapV2Router.WETH());\n \n        &#x2F;&#x2F; set the rest of the contract variables\n        uniswapV2Router &#x3D; _uniswapV2Router;\n        \n        &#x2F;&#x2F;exclude owner and this contract from fee\n        _isExcludedFromFee[owner()] &#x3D; true;\n        _isExcludedFromFee[address(this)] &#x3D; true;\n        \n        emit Transfer(address(0), _msgSender(), _tTotal);\n    &#125;\n\n\né¦–å…ˆæŠŠæ‰€æœ‰ä»£å¸è®¾ç½®ç»™åˆçº¦çš„éƒ¨ç½²è€…ï¼Œç„¶åé€šè¿‡UniswapV2Router02åˆ›å»ºä¸€ä¸ªäº¤æ˜“å¯¹ï¼Œæœ€åå°†æœ¬åˆçº¦åœ°å€å’Œéƒ¨ç½²è€…è®¾ç½®æˆç™½åå•ï¼Œä»–ä»¬è½¬è´¦ä¸éœ€è¦æ”¶æ‰‹ç»­è´¹ã€‚\n4ã€æ ¸å¿ƒæ–¹æ³•4.1 _transferfunction _transfer(\n        address from,\n        address to,\n        uint256 amount\n    ) private &#123;\n        require(from !&#x3D; address(0), &quot;ERC20: transfer from the zero address&quot;);\n        require(to !&#x3D; address(0), &quot;ERC20: transfer to the zero address&quot;);\n        require(amount &gt; 0, &quot;Transfer amount must be greater than zero&quot;);\n        if(from !&#x3D; owner() &amp;&amp; to !&#x3D; owner())\n            require(amount &lt;&#x3D; _maxTxAmount, &quot;Transfer amount exceeds the maxTxAmount.&quot;);\n \n        &#x2F;&#x2F; is the token balance of this contract address over the min number of\n        &#x2F;&#x2F; tokens that we need to initiate a swap + liquidity lock?\n        &#x2F;&#x2F; also, don&#39;t get caught in a circular liquidity event.\n        &#x2F;&#x2F; also, don&#39;t swap &amp; liquify if sender is uniswap pair.\n        uint256 contractTokenBalance &#x3D; balanceOf(address(this));\n        \n        if(contractTokenBalance &gt;&#x3D; _maxTxAmount)\n        &#123;\n            contractTokenBalance &#x3D; _maxTxAmount;\n        &#125;\n        \n        bool overMinTokenBalance &#x3D; contractTokenBalance &gt;&#x3D; numTokensSellToAddToLiquidity;\n        if (\n            overMinTokenBalance &amp;&amp;\n            !inSwapAndLiquify &amp;&amp;\n            from !&#x3D; uniswapV2Pair &amp;&amp;\n            swapAndLiquifyEnabled\n        ) &#123;\n            contractTokenBalance &#x3D; numTokensSellToAddToLiquidity;\n            &#x2F;&#x2F;add liquidity\n            swapAndLiquify(contractTokenBalance);\n        &#125;\n        \n        &#x2F;&#x2F;indicates if fee should be deducted from transfer\n        bool takeFee &#x3D; true;\n        \n        &#x2F;&#x2F;if any account belongs to _isExcludedFromFee account then remove the fee\n        if(_isExcludedFromFee[from] || _isExcludedFromFee[to])&#123;\n            takeFee &#x3D; false;\n        &#125;\n        \n        &#x2F;&#x2F;transfer amount, it will take tax, burn, liquidity fee\n        _tokenTransfer(from,to,amount,takeFee);\n    &#125;\n    \nè¿™ä¸ªå‡½æ•°é¦–å…ˆæ ¡éªŒè½¬è´¦è´¦å·ä»¥åŠè½¬è´¦é‡‘é¢ï¼Œç„¶åè·å–å½“å‰åˆçº¦çš„safemoonä½™é¢ï¼Œå¦‚æœå¤§äºnumTokensSellToAddToLiquidityå¹¶ä¸”è½¬è´¦å‘èµ·äººä¸æ˜¯uniswapçš„äº¤æ˜“å¯¹ï¼Œå¹¶ä¸”å½“å‰å…è®¸æ·»åŠ æµåŠ¨æ€§ï¼Œæ¥ä¸‹æ¥å°±ä¼šè¿›å…¥æ·»åŠ æµåŠ¨æ€§çš„æµç¨‹ã€‚æ·»åŠ å®ŒæµåŠ¨æ€§åï¼Œè¿›å…¥_tokenTransferæ–¹æ³•ç»§ç»­æ‰§è¡Œè½¬è´¦ã€‚\n4.2.swapAndLiquifyfunction swapAndLiquify(uint256 contractTokenBalance) private lockTheSwap &#123;\n        &#x2F;&#x2F; split the contract balance into halves\n        uint256 half &#x3D; contractTokenBalance.div(2);\n        uint256 otherHalf &#x3D; contractTokenBalance.sub(half);\n \n        &#x2F;&#x2F; capture the contract&#39;s current ETH balance.\n        &#x2F;&#x2F; this is so that we can capture exactly the amount of ETH that the\n        &#x2F;&#x2F; swap creates, and not make the liquidity event include any ETH that\n        &#x2F;&#x2F; has been manually sent to the contract\n        uint256 initialBalance &#x3D; address(this).balance;\n \n        &#x2F;&#x2F; swap tokens for ETH\n        swapTokensForEth(half); &#x2F;&#x2F; &lt;- this breaks the ETH -&gt; HATE swap when swap+liquify is triggered\n \n        &#x2F;&#x2F; how much ETH did we just swap into?\n        uint256 newBalance &#x3D; address(this).balance.sub(initialBalance);\n \n        &#x2F;&#x2F; add liquidity to uniswap\n        addLiquidity(otherHalf, newBalance);\n        \n        emit SwapAndLiquify(half, newBalance, otherHalf);\n    &#125;\n\n\nè¿™ä¸ªå‡½æ•°ç”¨äºæ·»åŠ æµåŠ¨æ€§ã€‚é¦–å…ˆå°†ä¼ å…¥çš„æ•°é‡å¯¹åŠåˆ†ï¼Œç„¶åè®°å½•å½“å‰åˆçº¦çš„ETHæ•°é‡ï¼Œç„¶åè°ƒç”¨swapTokensForEthå°†ä¸€åŠçš„safemoonè½¬æ¢æˆETHï¼Œé€šè¿‡æœ€æ–°ä½™é¢å’ŒåŸæ¥çš„ä½™é¢ï¼Œè®¡ç®—å‡ºè¿™æ¬¡swapçš„ETHæ•°é‡newBalanceï¼Œæœ€åè°ƒç”¨addLiquidityæ·»åŠ æµåŠ¨æ€§ï¼ˆSafemonn-ETHå¸å¯¹ï¼‰ã€‚\n4.3 swapTokensForEthfunction swapTokensForEth(uint256 tokenAmount) private &#123;\n        &#x2F;&#x2F; generate the uniswap pair path of token -&gt; weth\n        address[] memory path &#x3D; new address[](2);\n        path[0] &#x3D; address(this);\n        path[1] &#x3D; uniswapV2Router.WETH();\n \n        _approve(address(this), address(uniswapV2Router), tokenAmount);\n \n        &#x2F;&#x2F; make the swap\n        uniswapV2Router.swapExactTokensForETHSupportingFeeOnTransferTokens(\n            tokenAmount,\n            0, &#x2F;&#x2F; accept any amount of ETH\n            path,\n            address(this),\n            block.timestamp\n        );\n    &#125;\n\né¦–å…ˆæ„å»ºä¸€ä¸ªäº¤æ˜“è·¯å¾„ï¼š[Safemonn ,uniswapV2Router.WETH()]ï¼Œç„¶åæˆæƒç»™uniswapV2Routerä¸€å®šé¢åº¦ï¼Œæœ€ç»ˆè°ƒç”¨uniswapV2Routerçš„swapExactTokensForETHSupportingFeeOnTransferTokensæ–¹æ³•æ‰§è¡Œå…‘æ¢ã€‚æ³¨æ„ï¼Œè¿™é‡Œå¿…é¡»ä½¿ç”¨swapExactTokensForETHSupportingFeeOnTransferTokensè¿™ä¸ªæ–¹æ³•ï¼Œå› ä¸ºæ‰§è¡Œå…‘æ¢çš„æ—¶å€™ä¼šæ‰§è¡Œtransferä¼šæ”¶æ‰‹ç»­è´¹ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯uniswapä¸“é—¨ç»™æœ‰æ‰‹ç»­è´¹çš„å¸å¼€å‘çš„ã€‚\n4.4 addLiquidityfunction addLiquidity(uint256 tokenAmount, uint256 ethAmount) private &#123;\n        &#x2F;&#x2F; approve token transfer to cover all possible scenarios\n        _approve(address(this), address(uniswapV2Router), tokenAmount);\n \n        &#x2F;&#x2F; add the liquidity\n        uniswapV2Router.addLiquidityETH&#123;value: ethAmount&#125;(\n            address(this),\n            tokenAmount,\n            0, &#x2F;&#x2F; slippage is unavoidable\n            0, &#x2F;&#x2F; slippage is unavoidable\n            owner(),\n            block.timestamp\n        );\n    &#125;\nè¿™ä¸ªæ–¹æ³•ç”¨äºæ·»åŠ æµåŠ¨æ€§ï¼Œæ·»åŠ æµåŠ¨æ€§æœ¬è´¨æ˜¯å°†Safemoonå’ŒETHéƒ½è½¬ç»™uniswapV2Routerï¼Œç„¶åè·å¾—æµåŠ¨æ€§ä»£å¸çš„è¿‡ç¨‹ã€‚è¿™é‡Œé¦–å…ˆæˆæƒuniswapV2Routerä¸€å®šçš„Safemooné¢åº¦ï¼Œç„¶åè°ƒç”¨ uniswapV2Router.addLiquidityETHæ·»åŠ æµåŠ¨æ€§ã€‚\n4.5 _tokenTransferfunction _tokenTransfer(address sender, address recipient, uint256 amount,bool takeFee) private &#123;\n        if(!takeFee)\n            removeAllFee();\n        \n        if (_isExcluded[sender] &amp;&amp; !_isExcluded[recipient]) &#123;\n            _transferFromExcluded(sender, recipient, amount);\n        &#125; else if (!_isExcluded[sender] &amp;&amp; _isExcluded[recipient]) &#123;\n            _transferToExcluded(sender, recipient, amount);\n        &#125; else if (!_isExcluded[sender] &amp;&amp; !_isExcluded[recipient]) &#123;\n            _transferStandard(sender, recipient, amount);\n        &#125; else if (_isExcluded[sender] &amp;&amp; _isExcluded[recipient]) &#123;\n            _transferBothExcluded(sender, recipient, amount);\n        &#125; else &#123;\n            _transferStandard(sender, recipient, amount);\n        &#125;\n        \n        if(!takeFee)\n            restoreAllFee();\n    &#125;\nè¿™ä¸ªæ–¹æ³•æ˜¯å®é™…çš„è½¬è´¦ï¼Œå¦‚æœtakeFeeä¸ºfalseï¼Œä¹Ÿå°±æ˜¯ä¸æ”¶æ‰‹ç»­è´¹ï¼Œé¦–å…ˆä¼šé€šè¿‡removeAllFeeå°†æ‰‹ç»­è´¹ç›¸å…³å‚æ•°ç½®é›¶ï¼Œæœ€åé€šè¿‡restoreAllFeeæ¢å¤ã€‚ä¸­é—´éƒ¨åˆ†æ ¹æ®æ˜¯å¦å‚ä¸åˆ†çº¢ï¼Œåˆ†æˆå››ç§æƒ…å†µï¼š\n\n1ã€senderå’Œrecipientéƒ½ä¸å‚åŠ åˆ†çº¢ï¼Œè¿™æ—¶å€™èµ°_transferBothExcluded\n\n2ã€senderä¸å‚åŠ ï¼Œrecipientå‚åŠ ï¼Œè¿™æ—¶å€™èµ°_transferFromExcluded\n\n3ã€senderå‚åŠ ï¼Œrecipientä¸å‚åŠ ï¼Œè¿™æ—¶å€™èµ°_transferToExcluded\n\n4ã€éƒ½å‚åŠ ï¼Œè¿™æ—¶å€™èµ°_transferStandardï¼Œé»˜è®¤ç”¨æˆ·éƒ½èµ°è¿™ä¸ª\nfunction _transferBothExcluded(address sender, address recipient, uint256 tAmount) private &#123;\n        (uint256 rAmount, uint256 rTransferAmount, uint256 rFee, uint256 tTransferAmount, uint256 tFee, uint256 tLiquidity) &#x3D; _getValues(tAmount);\n        _tOwned[sender] &#x3D; _tOwned[sender].sub(tAmount);\n        _rOwned[sender] &#x3D; _rOwned[sender].sub(rAmount);\n        _tOwned[recipient] &#x3D; _tOwned[recipient].add(tTransferAmount);\n        _rOwned[recipient] &#x3D; _rOwned[recipient].add(rTransferAmount);        \n        _takeLiquidity(tLiquidity);\n        _reflectFee(rFee, tFee);\n        emit Transfer(sender, recipient, tTransferAmount);&#125;\n    \n    function _transferStandard(address sender, address recipient, uint256 tAmount) private &#123;\n        (uint256 rAmount, uint256 rTransferAmount, uint256 rFee, uint256 tTransferAmount, uint256 tFee, uint256 tLiquidity) &#x3D; _getValues(tAmount);\n        _rOwned[sender] &#x3D; _rOwned[sender].sub(rAmount);\n        _rOwned[recipient] &#x3D; _rOwned[recipient].add(rTransferAmount);\n        _takeLiquidity(tLiquidity);\n        _reflectFee(rFee, tFee);\n        emit Transfer(sender, recipient, tTransferAmount);\n    &#125;\n \n    function _transferToExcluded(address sender, address recipient, uint256 tAmount) private &#123;\n        (uint256 rAmount, uint256 rTransferAmount, uint256 rFee, uint256 tTransferAmount, uint256 tFee, uint256 tLiquidity) &#x3D; _getValues(tAmount);\n        _rOwned[sender] &#x3D; _rOwned[sender].sub(rAmount);\n        _tOwned[recipient] &#x3D; _tOwned[recipient].add(tTransferAmount);\n        _rOwned[recipient] &#x3D; _rOwned[recipient].add(rTransferAmount);           \n        _takeLiquidity(tLiquidity);\n        _reflectFee(rFee, tFee);\n        emit Transfer(sender, recipient, tTransferAmount);\n    &#125;\n \n    function _transferFromExcluded(address sender, address recipient, uint256 tAmount) private &#123;\n        (uint256 rAmount, uint256 rTransferAmount, uint256 rFee, uint256 tTransferAmount, uint256 tFee, uint256 tLiquidity) &#x3D; _getValues(tAmount);\n        _tOwned[sender] &#x3D; _tOwned[sender].sub(tAmount);\n        _rOwned[sender] &#x3D; _rOwned[sender].sub(rAmount);\n        _rOwned[recipient] &#x3D; _rOwned[recipient].add(rTransferAmount);   \n        _takeLiquidity(tLiquidity);\n        _reflectFee(rFee, tFee);\n        emit Transfer(sender, recipient, tTransferAmount);\n    &#125;\nè¿™å››ä¸ªtransferæ–¹æ³•é¦–å…ˆéƒ½ä¼šé€šè¿‡_getValuesè·å–æœ¬æ¬¡è½¬è´¦çš„å‚æ•°ï¼Œç„¶åè¿›è¡Œtå€¼å’Œrå€¼çš„åŠ å‡ã€‚ç„¶åæ‰£é™¤è½¬è´¦æ‰‹ç»­è´¹å’ŒæµåŠ¨æ€§æ‰‹ç»­è´¹ã€‚\nfunction _getValues(uint256 tAmount) private view returns (uint256, uint256, uint256, uint256, uint256, uint256) &#123;\n        (uint256 tTransferAmount, uint256 tFee, uint256 tLiquidity) &#x3D; _getTValues(tAmount);\n        (uint256 rAmount, uint256 rTransferAmount, uint256 rFee) &#x3D; _getRValues(tAmount, tFee, tLiquidity, _getRate());\n        return (rAmount, rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity);\n    &#125;\n \n    function _getTValues(uint256 tAmount) private view returns (uint256, uint256, uint256) &#123;\n        uint256 tFee &#x3D; calculateTaxFee(tAmount);\n        uint256 tLiquidity &#x3D; calculateLiquidityFee(tAmount);\n        uint256 tTransferAmount &#x3D; tAmount.sub(tFee).sub(tLiquidity);\n        return (tTransferAmount, tFee, tLiquidity);\n    &#125;\n \n    function _getRValues(uint256 tAmount, uint256 tFee, uint256 tLiquidity, uint256 currentRate) private pure returns (uint256, uint256, uint256) &#123;\n        uint256 rAmount &#x3D; tAmount.mul(currentRate);\n        uint256 rFee &#x3D; tFee.mul(currentRate);\n        uint256 rLiquidity &#x3D; tLiquidity.mul(currentRate);\n        uint256 rTransferAmount &#x3D; rAmount.sub(rFee).sub(rLiquidity);\n        return (rAmount, rTransferAmount, rFee);\n    &#125;\n    \n    function _getRate() private view returns(uint256) &#123;\n        (uint256 rSupply, uint256 tSupply) &#x3D; _getCurrentSupply();\n        return rSupply.div(tSupply);\n    &#125;\n \n    function _getCurrentSupply() private view returns(uint256, uint256) &#123;\n        uint256 rSupply &#x3D; _rTotal;\n        uint256 tSupply &#x3D; _tTotal;      \n        for (uint256 i &#x3D; 0; i &lt; _excluded.length; i++) &#123;\n            if (_rOwned[_excluded[i]] &gt; rSupply || _tOwned[_excluded[i]] &gt; tSupply) return (_rTotal, _tTotal);\n            rSupply &#x3D; rSupply.sub(_rOwned[_excluded[i]]);\n            tSupply &#x3D; tSupply.sub(_tOwned[_excluded[i]]);\n        &#125;\n        if (rSupply &lt; _rTotal.div(_tTotal)) return (_rTotal, _tTotal);\n        return (rSupply, tSupply);\n    &#125;\n    \n    function calculateTaxFee(uint256 _amount) private view returns (uint256) &#123;\n        return _amount.mul(_taxFee).div(\n            10**2\n        );\n    &#125;\n \n    function calculateLiquidityFee(uint256 _amount) private view returns (uint256) &#123;\n        return _amount.mul(_liquidityFee).div(\n            10**2\n        );\n    &#125;\n    \n    function _reflectFee(uint256 rFee, uint256 tFee) private &#123;\n        _rTotal &#x3D; _rTotal.sub(rFee);\n        _tFeeTotal &#x3D; _tFeeTotal.add(tFee);\n    &#125;\n    \n    function _takeLiquidity(uint256 tLiquidity) private &#123;\n        uint256 currentRate &#x3D;  _getRate();\n        uint256 rLiquidity &#x3D; tLiquidity.mul(currentRate);\n        _rOwned[address(this)] &#x3D; _rOwned[address(this)].add(rLiquidity);\n        if(_isExcluded[address(this)])\n            _tOwned[address(this)] &#x3D; _tOwned[address(this)].add(tLiquidity);\n    &#125;\n    \n    function balanceOf(address account) public view override returns (uint256) &#123;\n        if (_isExcluded[account]) return _tOwned[account];\n        return tokenFromReflection(_rOwned[account]);\n    &#125;\n    \n    function tokenFromReflection(uint256 rAmount) public view returns(uint256) &#123;\n        require(rAmount &lt;&#x3D; _rTotal, &quot;Amount must be less than total reflections&quot;);\n        uint256 currentRate &#x3D;  _getRate();\n        return rAmount.div(currentRate);\n    &#125;\n_getValueså…ˆè·å–tå€¼ï¼Œå†è·å–rå€¼ã€‚æ™®é€šåˆ†çº¢ç”¨æˆ·åªä¼šç”¨åˆ°rå€¼ï¼Œè¿™ä¸ªå€¼å…¶å®å°±æ˜¯ç”¨æˆ·çš„ç›˜å­æ•°é‡ï¼Œtå€¼æ°¸è¿œæ˜¯0ã€‚è€Œä¸å‚ä¸åˆ†çº¢çš„ç”¨æˆ·ï¼Œé™¤äº†rå€¼æ­£å¸¸å˜åŒ–ï¼Œtå€¼ä¹Ÿä¼šå˜åŒ–ï¼Œå¦‚æœåˆ«äººè½¬ç»™ä»–ï¼Œtå€¼å°±å¢åŠ ï¼Œå¦‚æœä»–è½¬ç»™åˆ«äººtå€¼å°±å‡å°‘ã€‚æ™®é€šåˆ†çº¢ç”¨æˆ·tå€¼ä¸º0ï¼Œå½“ç®¡ç†å‘˜æŠŠç”¨æˆ·è®¾ç½®ä¸ºéåˆ†çº¢ç”¨æˆ·çš„æ—¶å€™ï¼Œtå€¼ä¼šé€šè¿‡ç”¨æˆ·å½“å‰çš„rå€¼è¿›è¡Œæ¢ç®—ï¼Œè€Œå†æ¬¡è®¾ç½®ä¸ºåˆ†çº¢ç”¨æˆ·çš„æ—¶å€™ï¼Œtå€¼åˆä¼šæ¸…é›¶ã€‚é€šè¿‡tå€¼å’Œrå€¼çš„åˆ†ç¦»ï¼Œå®ç°äº†åˆ†çº¢ç”¨æˆ·å’Œéåˆ†çº¢ç”¨æˆ·çš„åˆ†ç¦»ã€‚\n\n\nåœ¨æ‰§è¡Œtransferçš„æ—¶å€™ï¼Œä¼šè°ƒç”¨_reflectFeeï¼Œè¿™ä¸ªä¼šå‡å°‘_rTotalï¼Œä¹Ÿå°±æ˜¯æ‰“ç¢ä¸€äº›ç›˜å­çš„æ•°é‡ã€‚ä¹Ÿä¼šè°ƒç”¨_takeLiquidityï¼Œè¿™ä¸ªæ˜¯è½¬ç§»æµåŠ¨æ€§æ‰‹ç»­è´¹ï¼Œä»…ä»…æ˜¯ç›˜å­çš„è½¬ç§»ï¼Œä¸ä¼šæ‰“ç¢ç›˜å­ã€‚\nè€ŒbalanceOfçš„å®ç°å¦‚ä¸‹ï¼šrAmount.div(rSupply.div(tSupply)) ====&gt; rAmount * tSupply / rSupply\ntSupplyæ˜¯æ’é™¤éåˆ†çº¢çš„ç”¨æˆ·çš„æ€»è›‹ç³•æ•°ï¼ŒrSupplyæ˜¯æ’é™¤éåˆ†çº¢ç”¨æˆ·çš„æ€»ç›˜å­æ•°ï¼Œå½“å…¨æ˜¯åˆ†çº¢ç”¨æˆ·çš„æ—¶å€™ï¼ŒtSupplyå°±æ˜¯_tTotalï¼ŒrSupplyå°±æ˜¯_rTotalã€‚\nå½“åˆ«äººè½¬è´¦çš„æ—¶å€™æ‰“ç¢äº†ä¸€éƒ¨åˆ†ç›˜å­ï¼Œè¿™å¯¼è‡´rSupplyå‡å°‘ï¼Œè€Œæ€»è›‹ç³•tSupplyä¸å˜ï¼Œç”¨æˆ·è‡ªå·±æŒæœ‰çš„ç›˜å­rAmountä¹Ÿä¸å˜ï¼Œè¿™æ ·å°±å¯¼è‡´è‡ªå·±åˆ†åˆ°çš„è›‹ç³•æ€»é‡å¢åŠ äº†ï¼Œè¿™å°±æ˜¯åˆ†çº¢çš„åŸç†ã€‚\n5ã€é€šç¼©åˆ†çº¢å¸çš„æ½œåœ¨é—®é¢˜\nç”±äºæ¯æ¬¡è½¬è´¦éƒ½ä¼šé”€æ¯æ‰‹ç»­è´¹ï¼Œå½“å‰©ä½™æ€»é‡å°äºæ‰‹ç»­è´¹å¾—æ—¶å€™ï¼Œå°±æ— æ³•è½¬è´¦äº†ã€‚\n\nè¿™ç§å¸æŠŠbalanceOfçš„é€»è¾‘æ”¹äº†ï¼Œå¯¼è‡´å³ä½¿ç”¨æˆ·ä¸è¿›è¡Œä»»ä½•æ“ä½œï¼ŒbalanceOfåœ¨ä¸åŒæ—¶åˆ»è¿”å›çš„å€¼æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™åœ¨ä¸€äº›å¼ºä¾èµ–balanceOfçš„çš„åˆçº¦ä¸­å°±ä¼šå‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚sushiswapå¦‚æœä½¿ç”¨é€šç¼©å¸è¿›è¡Œè´¨æŠ¼ï¼Œå°±å¯èƒ½å¯¼è‡´è®¡ç®—å¥–åŠ±å‡ºç°é—®é¢˜ã€‚å› æ­¤ï¼Œæ™ºèƒ½åˆçº¦å¼€å‘è€…åœ¨è¿›è¡Œå¼€å‘çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ä¸‹é€šç¼©å¸çš„é€»è¾‘ï¼Œé¿å…å‡ºç°ä¸å¿…è¦çš„æ¼æ´ã€‚\n\nè¿™ä¸ªå¸å¼ºä¾èµ–uniswapï¼Œä¸€æ—¦uniswapå‡çº§æˆ–è€…ä¸‹çº¿ï¼Œè¯¥å¸å¯èƒ½ä¼šå—åˆ°å½±å“ã€‚\n\n\n","slug":"é€šç¼©åˆ†çº¢å¸Safemoonè§£è¯»/index","date":"2022-03-18T16:01:39.000Z","categories_index":"Solidity","tags_index":"åŒºå—é“¾,Solidity,æ™ºèƒ½åˆçº¦","author_index":"Bug Designer"},{"id":"bb3bf222bcca42dfaadd6e15dbdfbacd","title":"è¯¦è§£åˆ†çº¢å…¶ä»–ä»£å¸ï¼Œæ·»åŠ æµåŠ¨æ€§åˆçº¦","content":"contract Token is ERC20, Ownable &#123;\n    using SafeMath for uint256;\n \n    IUniswapV2Router02 public uniswapV2Router;\n    address public immutable uniswapV2Pair;\n    bool private swapping;\n    bool public swapEnabled &#x3D; true;\n    DividendTracker public dividendTracker;          &#x2F;&#x2F;åˆ†çº¢å¯¹è±¡\n    address public liquidityWallet;          &#x2F;&#x2F;æµåŠ¨æ€§é’±åŒ…\n    address private _marketingWalletAddress;         &#x2F;&#x2F;è¥é”€é’±åŒ…ï¼Œæ”¶æ‰‹ç»­è´¹çš„\n    address public deadWallet &#x3D; 0x000000000000000000000000000000000000dEaD;        &#x2F;&#x2F;é”€æ¯é’±åŒ…ï¼Œä¹Ÿå°±æ˜¯æŠŠé’±æ‰“è¿›è¿™é‡Œã€‚\n    uint256 public maxSellTransactionAmount &#x3D; 10000000000000 * (10 ** 16);              &#x2F;&#x2F;æœ€å¤§å–å‡ºæ•°é‡\n    uint256 public swapTokensAtAmount &#x3D; 1000000000 * (10 ** 18);                      \n    uint256  BNBRewardsFee &#x3D; 7;                                                     &#x2F;&#x2F;åˆ†çº¢æ¯æ¬¡äº¤æ˜“ç™¾åˆ†ä¹‹7çš„bnb\n    uint256  liquidityFee &#x3D; 3;                                                      &#x2F;&#x2F;æµåŠ¨æ€§æ‰‹ç»­è´¹\n    uint256  marketingFee &#x3D; 4;                                                       &#x2F;&#x2F;è¥é”€é’±åŒ…æ”¶è¿›çš„æ‰‹ç»­è´¹\n \n    uint256 public totalFees &#x3D; BNBRewardsFee.add(liquidityFee).add(marketingFee);               &#x2F;&#x2F;æ€»æ‰‹ç»­è´¹ç”¨\n    uint256 public tradingEnabledTimestamp &#x3D; 1628258400; &#x2F;&#x2F;10:00pm                     &#x2F;&#x2F;2021-08-06 22:00:00çš„æ—¶é—´æˆ³          \n \n    &#x2F;&#x2F; sells have fees of 12 and 6 (10 * 1.2 and 5 * 1.2)           \n    uint256 public immutable sellFeeIncreaseFactor &#x3D; 120;\n \n    &#x2F;&#x2F; use by default 300,000 gas to process auto-claiming dividends\n    &#x2F;&#x2F;é»˜è®¤ä½¿ç”¨300000 gas å¤„ç†è‡ªåŠ¨ç”³è¯·åˆ†çº¢\n    uint256 public gasForProcessing &#x3D; 300000;\n \n    mapping(address &#x3D;&gt; bool) private _isExcludedFromFees;          &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦æ­¤è´¦å·éœ€è¦æ‰‹ç»­è´¹ï¼Œtrueä¸ºä¸éœ€è¦æ‰‹ç»­è´¹\n    mapping(address &#x3D;&gt; bool) public automatedMarketMakerPairs;        &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦å–å‡º\n    mapping(address &#x3D;&gt; bool) public _isBlacklisted;    &#x2F;&#x2F;æ˜¯å¦æ˜¯é»‘åå•,trueè¡¨ç¤ºè¿™ä¸ªåœ°å€æ˜¯é»‘åå•\n \n    event UpdateDividendTracker(address indexed newAddress, address indexed oldAddress);     &#x2F;&#x2F;ç›‘å¬æ›´æ–°åˆ†çº¢è·Ÿè¸ªäº‹ä»¶\n \n    event UpdateUniswapV2Router(address indexed newAddress, address indexed oldAddress);            &#x2F;&#x2F;ç›‘å¬æ›´æ–°å‘¨è¾¹è·¯ç”±äº‹ä»¶\n \n    event ExcludeFromFees(address indexed account, bool isExcluded);\n    event ExcludeMultipleAccountsFromFees(address[] accounts, bool isExcluded);\n \n    event SetAutomatedMarketMakerPair(address indexed pair, bool indexed value);\n \n    event LiquidityWalletUpdated(address indexed newLiquidityWallet, address indexed oldLiquidityWallet);\n \n    event GasForProcessingUpdated(uint256 indexed newValue, uint256 indexed oldValue);\n \n    event SwapAndLiquify(\n        uint256 tokensSwapped,\n        uint256 ethReceived,\n        uint256 tokensIntoLiqudity\n    );\n \n    event SendDividends(\n        uint256 tokensSwapped,\n        uint256 amount\n    );\n \n    event ProcessedDividendTracker(\n        uint256 iterations,\n        uint256 claims,\n        uint256 lastProcessedIndex,\n        bool indexed automatic,\n        uint256 gas,\n        address indexed processor\n    );\n \n    constructor(address _ma) public ERC20(&quot;man&quot;, &quot;man&quot;) &#123;\n \n        dividendTracker &#x3D; new DividendTracker();   \n \n        liquidityWallet &#x3D; owner();          &#x2F;&#x2F;æµåŠ¨æ€§é’±åŒ…&#x3D;msg.sender.ä¹Ÿå°±æ˜¯éƒ¨ç½²è¿™ä¸ªåˆçº¦çš„é’±åŒ…\n        _marketingWalletAddress &#x3D; _ma;          &#x2F;&#x2F;è¥é”€é’±åŒ…&#x3D;_ma\n        \n        IUniswapV2Router02 _uniswapV2Router &#x3D; IUniswapV2Router02(0x10ED43C718714eb63d5aA57B78B54704E256024E);  &#x2F;&#x2F;æ„é€ æµ‹è¯•ç½‘çš„_uniswapV2Routerå¯¹è±¡\n        &#x2F;&#x2F; Create a uniswap pair for this new token\n        &#x2F;&#x2F;ä¸ºè¿™ä¸ªæ–°å¸åˆ›å»ºä¸€ä¸ªuniswap pair  ä¹Ÿå°±æ˜¯uniswapçš„æ ¸å¿ƒåˆçº¦\n        address _uniswapV2Pair &#x3D; IUniswapV2Factory(_uniswapV2Router.factory())     &#x2F;&#x2F;factory è¿”å›åœ°å€ä¹Ÿå°±æ˜¯0x9Ac64é‚£ä¸ª\n        .createPair(address(this), _uniswapV2Router.WETH());   &#x2F;&#x2F;createPairåˆ›å»ºäº¤æ˜“å¯¹ .è¯¥å‡½æ•°æ¥å—ä»»æ„ä¸¤ä¸ªä»£å¸åœ°å€ä¸ºå‚æ•°ï¼Œç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„äº¤æ˜“å¯¹åˆçº¦å¹¶è¿”å›æ–°åˆçº¦çš„åœ°å€ã€‚\n        &#x2F;&#x2F;createPairçš„ç¬¬ä¸€ä¸ªåœ°å€æ˜¯è¿™ä¸ªåˆçº¦çš„åœ°å€ï¼Œç¬¬äºŒä¸ªåœ°å€æ˜¯0x9Ac64Cc6eåœ°å€\n        uniswapV2Router &#x3D; _uniswapV2Router;     \n        uniswapV2Pair &#x3D; _uniswapV2Pair;\n \n        _setAutomatedMarketMakerPair(_uniswapV2Pair, true);\n \n        &#x2F;&#x2F; exclude from receiving dividends  ä¸åœ¨åˆ†çº¢èŒƒå›´å†…çš„\n        dividendTracker.excludeFromDividends(address(dividendTracker));            \n        dividendTracker.excludeFromDividends(address(this));                 &#x2F;&#x2F;è¿™ä¸ªåˆçº¦åœ°å€\n        dividendTracker.excludeFromDividends(owner());                        &#x2F;&#x2F;msg.senderåœ°å€,ä¹Ÿå°±é“¸å¸æ¥æ”¶è€…\n        dividendTracker.excludeFromDividends(deadWallet);                     &#x2F;&#x2F;é”€æ¯åœ°å€\n        dividendTracker.excludeFromDividends(address(_uniswapV2Router));\n \n        &#x2F;&#x2F; exclude from paying fees or having max transaction amount æ’é™¤æ”¯ä»˜è´¹ç”¨æˆ–æ‹¥æœ‰æœ€å¤§äº¤æ˜“é‡‘é¢\n        excludeFromFees(liquidityWallet, true);        &#x2F;&#x2F;æ’é™¤æµåŠ¨æ€§é’±åŒ…çš„æ”¯ä»˜æ‰‹ç»­è´¹å’Œæœ€å¤§äº¤æ˜“é‡‘é¢\n        excludeFromFees(address(this), true);              &#x2F;&#x2F;æ’é™¤é“¸å¸é’±åŒ…çš„æ”¯ä»˜æ‰‹ç»­è´¹å’Œæœ€å¤§äº¤æ˜“é‡‘é¢\n        excludeFromFees(_marketingWalletAddress, true);      &#x2F;&#x2F;æ’é™¤è¥é”€é’±åŒ…çš„æ”¯ä»˜æ‰‹ç»­è´¹å’Œæœ€å¤§äº¤æ˜“é‡‘é¢\n \n        _mint(owner(), 10000000000000 * (10 ** 18));            &#x2F;&#x2F;é“¸å¸ç»™msg.ssenderäº10000000000000ä¸ªå¸ï¼›\n    &#125;                  \n    &#x2F;&#x2F;å¤–éƒ¨åˆçº¦è°ƒç”¨æ¥æ”¶æ–¹æ³•\n    receive() external payable &#123;\n \n    &#125;\n    &#x2F;&#x2F;æ”¹å˜æœ€å¤§å–å‡ºé¢åº¦\n    function changeMaxSellTransactionAmount(uint amount) external onlyOwner &#123;\n        maxSellTransactionAmount &#x3D; amount;\n    &#125;\n    &#x2F;&#x2F;æ›´æ–°åˆ†çº¢åˆçº¦å¯¹è±¡\n    function updateDividendTracker(address newAddress) public onlyOwner &#123;\n        &#x2F;&#x2F;å¦‚æœæ–°åœ°å€&#x3D;&#x3D;adaddress(ddividendTracker)åˆ™è·³å‡ºå‡½æ•°\n        require(newAddress !&#x3D; address(dividendTracker), &quot;RedCheCoin The dividend tracker already has that address&quot;);\n        \n        DividendTracker newDividendTracker &#x3D; DividendTracker(payable(newAddress));\n \n        require(newDividendTracker.owner() &#x3D;&#x3D; address(this), &quot;RedCheCoin The new dividend tracker must be owned by the RedCheCoin token contract&quot;);\n \n        newDividendTracker.excludeFromDividends(address(newDividendTracker));       &#x2F;&#x2F;newDividendTrackeråœ°å€ä¸åˆ†çº¢\n        newDividendTracker.excludeFromDividends(address(this));                    &#x2F;&#x2F;è¿™ä¸ªåˆçº¦åœ°å€ä¸åˆ†çº¢\n        newDividendTracker.excludeFromDividends(owner());                           &#x2F;&#x2F;msg.senderåœ°å€\n        newDividendTracker.excludeFromDividends(address(uniswapV2Router));          &#x2F;&#x2F;ä»£å¸å¯¹åœ°å€\n \n        emit UpdateDividendTracker(newAddress, address(dividendTracker));   \n \n        dividendTracker &#x3D; newDividendTracker;                     \n    &#125;\n    &#x2F;&#x2F;æ›´æ–°å‘¨è¾¹è·¯ç”±äº‹ä»¶\n    function updateUniswapV2Router(address newAddress) public onlyOwner &#123;\n        require(newAddress !&#x3D; address(uniswapV2Router), &quot;RedCheCoin The router already has that address&quot;);  &#x2F;&#x2F;å¦‚æœæ–°çš„åœ°å€æ˜¯åŸæ¥çš„å‘¨è¾¹è·¯ç”±åœ°å€åˆ™è·³å‡º\n        emit UpdateUniswapV2Router(newAddress, address(uniswapV2Router));         \n        uniswapV2Router &#x3D; IUniswapV2Router02(newAddress);      &#x2F;&#x2F;æŠŠæ–°çš„å‘¨è¾¹è·¯ç”±åœ°å€èµ‹å€¼ç»™æ—§çš„\n    &#125;\n    &#x2F;&#x2F;æ’é™¤æ‰‹ç»­è´¹\n    function excludeFromFees(address account, bool excluded) public onlyOwner &#123;   &#x2F;&#x2F;onlyOwneråˆ¤æ–­æ˜¯ä¸æ˜¯msg.sender\n        require(_isExcludedFromFees[account] !&#x3D; excluded, &quot;RedCheCoin Account is already the value of &#39;excluded&#39;&quot;);   &#x2F;&#x2F;å¦‚æœå·²ç»æ’é™¤å°±è·³å‡º\n        _isExcludedFromFees[account] &#x3D; excluded;                 &#x2F;&#x2F;è®¾ç½®æ˜¯å¦æ’é™¤çš„å¸ƒå°”å€¼\n \n        emit ExcludeFromFees(account, excluded);\n    &#125;\n    &#x2F;&#x2F;æ’é™¤å¤šä¸ªåœ°å€è´¦å·çš„æ‰‹ç»­è´¹\n    function excludeMultipleAccountsFromFees(address[] calldata accounts, bool excluded) public onlyOwner &#123;\n        for (uint256 i &#x3D; 0; i &lt; accounts.length; i++) &#123;\n            _isExcludedFromFees[accounts[i]] &#x3D; excluded;\n        &#125;\n \n        emit ExcludeMultipleAccountsFromFees(accounts, excluded);\n    &#125;\n    &#x2F;&#x2F;è®¾ç½®lpæµåŠ¨æ€§åœ°å€\n    function setAutomatedMarketMakerPair(address pair, bool value) public onlyOwner &#123;\n        require(pair !&#x3D; uniswapV2Pair, &quot;RedCheCoin The PancakeSwap pair cannot be removed from automatedMarketMakerPairs&quot;);\n        \n        _setAutomatedMarketMakerPair(pair, value);\n    &#125;\n    &#x2F;&#x2F;è®¾ç½®é»‘åå•åœ°å€\n    function blacklistAddress(address account, bool value) external onlyOwner &#123;\n        _isBlacklisted[account] &#x3D; value;   &#x2F;&#x2F;å¦‚æœæ˜¯trueå°±æ˜¯é»‘åå•\n    &#125;\n \n    function _setAutomatedMarketMakerPair(address pair, bool value) private &#123;\n        &#x2F;&#x2F;åšä¸€ä¸ªåˆ¤æ–­å¦‚æœå·²ç»èµ‹äº†å¸ƒå°”å€¼å°±è·³å‡ºå‡½æ•°\n        require(automatedMarketMakerPairs[pair] !&#x3D; value, &quot;RedCheCoin Automated market maker pair is already set to that value&quot;);\n        automatedMarketMakerPairs[pair] &#x3D; value;     \n        if (value) &#123;\n            dividendTracker.excludeFromDividends(pair);\n        &#125;\n \n        emit SetAutomatedMarketMakerPair(pair, value);\n    &#125;\n \n    &#x2F;&#x2F;æ›´æ–°æµåŠ¨æ± é’±åŒ…\n    function updateLiquidityWallet(address newLiquidityWallet) public onlyOwner &#123;\n        require(newLiquidityWallet !&#x3D; liquidityWallet, &quot;RedCheCoin The liquidity wallet is already this address&quot;);\n        _isExcludedFromFees[newLiquidityWallet] &#x3D; true;          &#x2F;&#x2F;è®¾ç½®æ–°çš„æµåŠ¨æ± é’±åŒ…\n        emit LiquidityWalletUpdated(newLiquidityWallet, liquidityWallet);        \n        liquidityWallet &#x3D; newLiquidityWallet;          &#x2F;&#x2F;æ—§æµåŠ¨æ± é’±åŒ…&#x3D;æ–°æµåŠ¨æ± é’±åŒ…             \n    &#125;\n    &#x2F;&#x2F;æ›´æ–°è¥é”€é’±åŒ…\n    function updateMarketingWallet(address newMarkting) public onlyOwner &#123;\n        require(newMarkting !&#x3D; _marketingWalletAddress, &quot;RedCheCoin The Markting wallet is already this address&quot;);  &#x2F;&#x2F;å¦‚æœæ–°è¥é”€é’±åŒ…&#x3D;æ—§è¥é”€é’±åŒ…åˆ™è·³å‡º\n        _isExcludedFromFees[newMarkting] &#x3D; true;                                                    &#x2F;&#x2F;è®¾ç½®æ–°è¥é”€é’±åŒ…é™¤å¤–æ‰‹ç»­è´¹\n        _marketingWalletAddress &#x3D; newMarkting;                                                       &#x2F;&#x2F;æ—§è¥é”€é’±åŒ…&#x3D;æ–°è¥é”€é’±åŒ…\n    &#125;\n    &#x2F;&#x2F;æ›´æ–°gasè´¹ç”¨\n    function updateGasForProcessing(uint256 newValue) public onlyOwner &#123;\n        require(newValue &gt;&#x3D; 200000 &amp;&amp; newValue &lt;&#x3D; 500000, &quot;RedCheCoin gasForProcessing must be between 200,000 and 500,000&quot;);    &#x2F;&#x2F;é200000åˆ°500000åˆ™è·³å‡º\n        require(newValue !&#x3D; gasForProcessing, &quot;RedCheCoin Cannot update gasForProcessing to same value&quot;);       &#x2F;&#x2F;å¦‚æœå’Œæ—§çš„å€¼ä¸€æ ·å°±è·³å‡º\n        emit GasForProcessingUpdated(newValue, gasForProcessing);   \n        gasForProcessing &#x3D; newValue;                                      &#x2F;&#x2F;æ—§çš„gas&#x3D;æ–°çš„gas\n    &#125;\n    \n    function updateClaimWait(uint256 claimWait) external onlyOwner &#123;\n        dividendTracker.updateClaimWait(claimWait);\n    &#125;\n \n    function getClaimWait() external view returns (uint256) &#123;\n        return dividendTracker.claimWait();\n    &#125;\n \n    function getTotalDividendsDistributed() external view returns (uint256) &#123;\n        return dividendTracker.totalDividendsDistributed();\n    &#125;\n    &#x2F;&#x2F;block.timestamp (uint):å½“å‰å—çš„æ—¶é—´æˆ³\n    &#x2F;&#x2F;æ­¤å‡½æ•°é€šè¿‡åˆ°è¾¾å¼€ç›˜æ—¶é—´æ‰èƒ½äº¤æ˜“\n    function getTradingIsEnabled() public view returns (bool) &#123;\n        return block.timestamp &gt;&#x3D; tradingEnabledTimestamp;\n    &#125;\n    &#x2F;&#x2F;è¿”å›æ˜¯å¦é™¤å¤–æ‰‹ç»­è´¹çš„å¸ƒå°”å€¼\n    function isExcludedFromFees(address account) public view returns (bool) &#123;\n        return _isExcludedFromFees[account];\n    &#125;\n    &#x2F;&#x2F;åº”è¯¥æ˜¯å–å›åˆ†çº¢ï¼Ÿï¼Ÿï¼Ÿ\n    function withdrawableDividendOf(address account) public view returns (uint256) &#123;\n        return dividendTracker.withdrawableDividendOf(account);\n    &#125;\n    &#x2F;&#x2F;å–çš„åˆ†çº¢çš„åœ°å€\n    function dividendTokenBalanceOf(address account) public view returns (uint256) &#123;\n        return dividendTracker.balanceOf(account);\n    &#125;\n    \n    function getAccountDividendsInfo(address account)\n    external view returns (\n        address,\n        int256,\n        int256,\n        uint256,\n        uint256,\n        uint256,\n        uint256,\n        uint256) &#123;\n        return dividendTracker.getAccount(account);\n    &#125;\n \n    function getAccountDividendsInfoAtIndex(uint256 index)\n    external view returns (\n        address,\n        int256,\n        int256,\n        uint256,\n        uint256,\n        uint256,\n        uint256,\n        uint256) &#123;\n        return dividendTracker.getAccountAtIndex(index);\n    &#125;\n \n    function processDividendTracker(uint256 gas) external &#123;\n        (uint256 iterations, uint256 claims, uint256 lastProcessedIndex) &#x3D; dividendTracker.process(gas);\n        emit ProcessedDividendTracker(iterations, claims, lastProcessedIndex, false, gas, tx.origin);\n    &#125;\n \n    function claim() external &#123;\n        dividendTracker.processAccount(msg.sender, false);\n    &#125;\n \n    function getLastProcessedIndex() external view returns (uint256) &#123;\n        return dividendTracker.getLastProcessedIndex();\n    &#125;\n \n    function getNumberOfDividendTokenHolders() external view returns (uint256) &#123;\n        return dividendTracker.getNumberOfTokenHolders();\n    &#125;\n    &#x2F;&#x2F;äº¤æ˜“å‡½æ•°\n    function _transfer(\n        address from,\n        address to,\n        uint256 amount\n    ) internal override &#123;\n        require(from !&#x3D; address(0), &quot;ERC20: transfer from the zero address&quot;);    &#x2F;&#x2F;å¦‚æœå‘é€æ–¹æ˜¯ç©ºåœ°å€åˆ™è·³å‡º\n        require(!_isBlacklisted[from], &#39;Blacklisted address&#39;);                        &#x2F;&#x2F;å¦‚æœæ¥æ”¶æ–¹æ˜¯ç©ºåœ°å€åˆ™è·³å‡º\n \n \n        if (amount &#x3D;&#x3D; 0) &#123;                              &#x2F;&#x2F;è½¬0ä¸ªå¸åˆ™ç›´æ¥è½¬\n            super._transfer(from, to, 0);\n            return;\n        &#125;\n \n        if (swapping) &#123;\n            super._transfer(from, to, amount);\n            return;\n        &#125;\n \n        bool isMng &#x3D; _isExcludedFromFees[from] || _isExcludedFromFees[to];      &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦éæ‰‹ç»­è´¹\n        bool tradingIsEnabled &#x3D; getTradingIsEnabled();               &#x2F;&#x2F;åˆ¤æ–­æ˜¯åˆ°å¼€ç›˜æ—¶é—´ï¼Œtrueè¡¨ç¤ºåˆ°äº†          \n \n        &#x2F;&#x2F; add liqiud\n        if (!tradingIsEnabled) &#123;                  &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦åˆ°å¼€ç›˜æ—¶é—´\n            require(isMng, &quot;This account cannot send tokens until trading is enabled&quot;);   &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦æ·»åŠ æµåŠ¨æ± è´¦å·ï¼Œå¦‚æœä¸æ˜¯åˆ™è·³å‡ºæ­¤å‡½æ•°\n        &#125;\n \n        if (\n            tradingIsEnabled &amp;&amp;                  &#x2F;&#x2F;åˆ°è¾¾å¼€ç›˜æ—¶é—´\n            balanceOf(uniswapV2Pair) &gt; 0 &amp;&amp;                 &#x2F;&#x2F;æµåŠ¨æ± å¤§äº0\n            automatedMarketMakerPairs[from] &amp;&amp;         &#x2F;&#x2F;liæµåŠ¨æ€§å¯ç”¨          \n            !isMng &amp;&amp;                           &#x2F;&#x2F;æ˜¯å¦æ’é™¤æ‰‹ç»­è´¹\n            tradingIsEnabled &amp;&amp;                         \n            block.timestamp &lt;&#x3D; tradingEnabledTimestamp + 9 seconds) &#123;  &#x2F;&#x2F;å½“å‰å—çš„æ—¶é—´æˆ³å°äºç­‰äº å¯äº¤æ˜“æ—¶é—´æˆ³+9ç§’ã€‚å¦‚æœæ˜¯åœ¨9ç§’å†…æŠ¢åˆ°\n            addBot(to);                                 &#x2F;&#x2F;åˆ™æ·»åŠ é»‘åå•\n        &#125;\n \n        if (\n            !swapping &amp;&amp;                        \n        from !&#x3D; address(uniswapV2Router) &amp;&amp;\n        to !&#x3D; address(uniswapV2Router) &amp;&amp;\n        !isMng\n        ) &#123;\n            require(amount &lt;&#x3D; maxSellTransactionAmount, &quot;Sell transfer amount exceeds the maxSellTransactionAmount.&quot;);  &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦è¶…å‡ºæœ€å¤§å¯å–å‡ºæ•°é‡\n        &#125;\n \n        uint256 contractTokenBalance &#x3D; balanceOf(address(this));          &#x2F;&#x2F;è·å¾—è¯¥ä»£å¸ä½™é¢\n \n        bool canSwap &#x3D; contractTokenBalance &gt;&#x3D; swapTokensAtAmount;        &#x2F;&#x2F;æ˜¯å¦å¯ä»¥äº¤æ˜“\n \n        if (\n            swapEnabled &amp;&amp;\n            canSwap &amp;&amp;\n            !swapping &amp;&amp;\n            !automatedMarketMakerPairs[from] &amp;&amp;\n            from !&#x3D; liquidityWallet &amp;&amp;\n            to !&#x3D; liquidityWallet\n        ) &#123;\n            swapping &#x3D; true;\n \n            uint256 marketingTokens &#x3D; contractTokenBalance.mul(marketingFee).div(totalFees);    &#x2F;&#x2F;è¥é”€é’±åŒ…çš„å¸&#x3D;è¯¥åˆçº¦ä»£å¸ä½™é¢*è¥é”€æ‰‹ç»­è´¹&#x2F;æ€»æ‰‹ç»­è´¹\n            swapAndSendToFee(marketingTokens);                                          &#x2F;&#x2F;å‘é€ç»™è¥é”€é’±åŒ…æ‰‹ç»­è´¹ç”¨çš„å¸\n \n            uint256 swapTokens &#x3D; contractTokenBalance.mul(liquidityFee).div(totalFees);               &#x2F;&#x2F;æ·»åŠ æµåŠ¨æ€§çš„å¸&#x3D;è¯¥åˆçº¦ä»£å¸ä½™é¢*æµåŠ¨æ€§æ‰‹ç»­è´¹&#x2F;æ€»æ‰‹ç»­è´¹\n            swapAndLiquify(swapTokens);                                    &#x2F;&#x2F;æ·»åŠ æµåŠ¨æ€§\n \n            uint256 sellTokens &#x3D; balanceOf(address(this));                                &#x2F;&#x2F;å–çš„å¸&#x3D;è¯¥åˆçº¦ä»£å¸ä½™é¢\n            swapAndSendDividends(sellTokens);                                           &#x2F;&#x2F;åˆ†çº¢å–çš„å¸\n            swapping &#x3D; false;\n        &#125;\n \n \n        bool takeFee &#x3D; !swapping;                   \n \n        &#x2F;&#x2F; if any account belongs to _isExcludedFromFee account then remove the fee å¦‚æœä»»ä½•å¸æˆ·å±äº_isExcludedFromFeeå¸æˆ·ï¼Œé‚£ä¹ˆåˆ é™¤è´¹ç”¨\n        if (_isExcludedFromFees[from] || _isExcludedFromFees[to]) &#123;\n            takeFee &#x3D; false;                                   &#x2F;&#x2F;è®¾ç½®æ— æ‰‹ç»­è´¹\n        &#125;\n \n        if (takeFee) &#123;\n            uint256 fees &#x3D; amount.mul(totalFees).div(100);           &#x2F;&#x2F;æ‰‹ç»­è´¹&#x3D;å¸æ•°é‡*æ€»æ‰‹ç»­è´¹&#x2F;100;\n \n            &#x2F;&#x2F; if sell, multiply by 1.2\n            if (automatedMarketMakerPairs[to]) &#123;\n                fees &#x3D; fees.mul(sellFeeIncreaseFactor).div(100);            &#x2F;&#x2F;å¦‚æœå–å‡ºçš„è¯æ‰‹ç»­è´¹*1.2\n            &#125;\n \n            amount &#x3D; amount.sub(fees);             &#x2F;&#x2F;å¸æ•°é‡&#x3D;å¸æ•°é‡-æ‰‹ç»­è´¹\n \n            super._transfer(from, address(this), fees);            &#x2F;&#x2F;è½¬è´¦msg.senderåˆ°åˆçº¦åœ°å€ï¼Œæ‰‹ç»­è´¹ç”¨çš„å¸\n        &#125;\n \n        super._transfer(from, to, amount);                  &#x2F;&#x2F;è½¬è´¦å®é™…å·²ç»æ‰£é™¤æ‰‹ç»­çš„å¸\n \n        try dividendTracker.setBalance(payable(from), balanceOf(from)) &#123;&#125; catch &#123;&#125;\n        try dividendTracker.setBalance(payable(to), balanceOf(to)) &#123;&#125; catch &#123;&#125;\n \n        if (!swapping) &#123;\n            uint256 gas &#x3D; gasForProcessing;       \n \n            try dividendTracker.process(gas) returns (uint256 iterations, uint256 claims, uint256 lastProcessedIndex) &#123;\n                emit ProcessedDividendTracker(iterations, claims, lastProcessedIndex, true, gas, tx.origin);\n            &#125;\n            catch &#123;\n            &#125;\n        &#125;\n    &#125;\n    &#x2F;&#x2F;è®¾ç½®æ˜¯å¦å¯äº¤æ˜“\n    function setSwapEnabled(bool _enabled) external onlyOwner &#123;\n        swapEnabled &#x3D; _enabled;\n    &#125;\n    &#x2F;&#x2F;è®¾ç½®æ‰‹ç»­è´¹ç”¨\n    function setF(uint _BNBRewardsFee, uint _liquidityFee, uint _marketingFee) external onlyOwner &#123;\n        BNBRewardsFee &#x3D; _BNBRewardsFee;\n        liquidityFee &#x3D; _liquidityFee;\n        marketingFee &#x3D; _marketingFee;\n    &#125;\n    &#x2F;&#x2F;æ·»åŠ é»‘åå•çš„å‡½æ•°\n    function addBot(address recipient) private &#123;\n        if (!_isBlacklisted[recipient]) _isBlacklisted[recipient] &#x3D; true;\n    &#125;\n    &#x2F;&#x2F;å‘é€ç»™è¥é”€é’±åŒ…æ‰‹ç»­è´¹ç”¨\n    function swapAndSendToFee(uint256 tokens) private &#123;\n        uint256 initialBNBBalance &#x3D; address(this).balance;\n        swapTokensForEth(tokens);   \n        uint256 newBalance &#x3D; address(this).balance.sub(initialBNBBalance);\n        payable(_marketingWalletAddress).transfer(newBalance);\n    &#125;\n    &#x2F;&#x2F;äº¤æ˜“æµåŠ¨æ€§\n    function swapAndLiquify(uint256 tokens) private &#123;\n        &#x2F;&#x2F; split the contract balance into halves æŠŠè¯¥åˆåŒä½™é¢å¹³åˆ†ï¼Œåˆ†æˆä¸€åŠ\n        uint256 half &#x3D; tokens.div(2);\n        uint256 otherHalf &#x3D; tokens.sub(half);\n \n        &#x2F;&#x2F; capture the contract&#39;s current ETH balance.   è·å–åˆåŒå½“å‰ETHä½™é¢ã€‚\n        &#x2F;&#x2F; this is so that we can capture exactly the amount of ETH that the   è¿™æ ·æˆ‘ä»¬å°±èƒ½å‡†ç¡®åœ°æ•è·ETHçš„æ•°é‡\n        &#x2F;&#x2F; swap creates, and not make the liquidity event include any ETH that    äº¤æ¢äº§ç”Ÿï¼Œè€Œä¸ä½¿æµåŠ¨æ€§äº‹ä»¶åŒ…æ‹¬ä»»ä½•ETH\n        &#x2F;&#x2F; has been manually sent to the contract    æ‰‹åŠ¨å‘é€ç»™åˆçº¦åœ°å€\n        uint256 initialBalance &#x3D; address(this).balance;\n \n        &#x2F;&#x2F; swap tokens for ETH  ETHäº¤æ¢ä»£å¸\n        swapTokensForEth(half);\n        &#x2F;&#x2F; &lt;- this breaks the ETH -&gt; HATE swap when swap+liquify is triggered  å½“swap+liquifyè¢«è§¦å‘æ—¶ï¼Œè¿™ä¼šæ‰“ç ´ETH -&gt;HATE swap\n \n        &#x2F;&#x2F; how much ETH did we just swap into?   æˆ‘ä»¬åˆšæ‰æ¢äº†å¤šå°‘ETH ?\n        uint256 newBalance &#x3D; address(this).balance.sub(initialBalance);\n \n        &#x2F;&#x2F; add liquidity to uniswap      ä¸ºuniswapå¢åŠ æµåŠ¨æ€§\n        addLiquidity(otherHalf, newBalance);\n \n        emit SwapAndLiquify(half, newBalance, otherHalf);\n    &#125;\n    &#x2F;&#x2F;äº¤æ¢ä»£å¸\n    function swapTokensForEth(uint256 tokenAmount) private &#123;\n \n \n        &#x2F;&#x2F; generate the uniswap pair path of token -&gt; weth  ç”Ÿæˆunswap pairå‘¨è¾¹åˆçº¦ä»£å¸è·¯å¾„ -&gt; ç”¨ethä½æ¥è¡¨ç¤º\n        address[] memory path &#x3D; new address[](2);   \n        path[0] &#x3D; address(this);\n        path[1] &#x3D; uniswapV2Router.WETH();\n \n        _approve(address(this), address(uniswapV2Router), tokenAmount);    \n \n        &#x2F;&#x2F; make the swap\n        uniswapV2Router.swapExactTokensForETHSupportingFeeOnTransferTokens(\n            tokenAmount,\n            0, &#x2F;&#x2F; accept any amount of ETH\n            path,\n            address(this),\n            block.timestamp\n        );\n \n    &#125;\n    &#x2F;&#x2F;æ·»åŠ æµåŠ¨æ€§\n    function addLiquidity(uint256 tokenAmount, uint256 ethAmount) private &#123;\n \n        &#x2F;&#x2F; approve token transfer to cover all possible scenarios      æ‰¹å‡†ä»£å¸è½¬è´¦ä»¥è¦†ç›–æ‰€æœ‰å¯èƒ½çš„åœºæ™¯\n        _approve(address(this), address(uniswapV2Router), tokenAmount);\n \n        &#x2F;&#x2F; add the liquidity           æ·»åŠ æµåŠ¨æ€§\n        uniswapV2Router.addLiquidityETH&#123;value : ethAmount&#125;(\n            address(this),\n            tokenAmount,\n            0, &#x2F;&#x2F; slippage is unavoidable     &#x2F;&#x2F;æ»‘ç‚¹æ˜¯ä¸å¯é¿å…çš„\n            0, &#x2F;&#x2F; slippage is unavoidable   &#x2F;&#x2F;æ»‘ç‚¹æ˜¯ä¸å¯é¿å…çš„\n            liquidityWallet,                     &#x2F;&#x2F;æµåŠ¨æ€§é’±åŒ…;\n            block.timestamp                  &#x2F;&#x2F;å½“å—çš„æ—¶é—´æˆ³\n        );\n \n    &#125;\n    &#x2F;&#x2F;äº¤æ˜“åˆ†çº¢\n    function swapAndSendDividends(uint256 tokens) private &#123;\n        swapTokensForEth(tokens);\n        uint256 dividends &#x3D; address(this).balance;\n        (bool success,) &#x3D; address(dividendTracker).call&#123;value : dividends&#125;(&quot;&quot;);\n \n        if (success) &#123;\n            emit SendDividends(tokens, dividends);\n        &#125;\n    &#125;\n&#125;\n\nå‘å°„å™¨åˆçº¦\n&#x2F;&#x2F; SPDX-License-Identifier: MIT\n \npragma solidity ^0.6.2;\nimport &quot;.&#x2F;Ownable.sol&quot;;\nimport &quot;.&#x2F;DividendPayingToken.sol&quot;;\nimport &quot;.&#x2F;SafeMath.sol&quot;;\nimport &quot;.&#x2F;SafeMathInt.sol&quot;;\nimport &quot;.&#x2F;IterableMapping.sol&quot;;\ncontract DividendTracker is Ownable, DividendPayingToken &#123;\n    using SafeMath for uint256;\n    using SafeMathInt for int256;\n    using IterableMapping for IterableMapping.Map;\n \n    IterableMapping.Map private tokenHoldersMap;\n    uint256 public lastProcessedIndex;\n \n    mapping(address &#x3D;&gt; bool) public excludedFromDividends;\n \n    mapping(address &#x3D;&gt; uint256) public lastClaimTimes;\n \n    uint256 public claimWait;\n    uint256 public immutable minimumTokenBalanceForDividends;\n \n    event ExcludeFromDividends(address indexed account);\n    event ClaimWaitUpdated(uint256 indexed newValue, uint256 indexed oldValue);\n \n    event Claim(address indexed account, uint256 amount, bool indexed automatic);\n \n    constructor() public DividendPayingToken(&quot;RedCheCoin_Dividend_Tracker&quot;, &quot;RedCheCoin_Dividend_Tracker&quot;) &#123;\n        claimWait &#x3D; 1200;\n        minimumTokenBalanceForDividends &#x3D; 10000 * (10 ** 18);\n        &#x2F;&#x2F;must hold 10000+ tokens\n    &#125;\n \n    function _transfer(address, address, uint256) internal override &#123;\n        require(false, &quot;RedCheCoin_Dividend_Tracker: No transfers allowed&quot;);\n    &#125;\n \n    function withdrawDividend() public override &#123;\n        require(false, &quot;RedCheCoin_Dividend_Tracker: withdrawDividend disabled. Use the &#39;claim&#39; function on the main RedCheCoin contract.&quot;);\n    &#125;\n    &#x2F;&#x2F;æ­¤å‡½æ•°ç”¨äºaccountå½¢å‚åœ°å€ä¸åœ¨åˆ†çº¢å†…\n    function excludeFromDividends(address account) external onlyOwner &#123;\n        &#x2F;&#x2F;falseå°±æ‰§è¡Œï¼Œå¦åˆ™é€€å‡ºæ­¤å‡½æ•°ï¼Œä¸»è¦æ£€æµ‹æœ‰æ²¡æœ‰æ‰§è¡Œè¿‡æ­¤å‡½æ•°\n        require(!excludedFromDividends[account]);\n        excludedFromDividends[account] &#x3D; true;      &#x2F;&#x2F;è®¾ç½®åˆ†çº¢è´¦å·ä¸ºtrue\n        _setBalance(account, 0);                    &#x2F;&#x2F;è®¾ç½®ç›®å‰çš„ä½™é¢\n        tokenHoldersMap.remove(account);             \n \n        emit ExcludeFromDividends(account);\n    &#125;\n \n    function updateClaimWait(uint256 newClaimWait) external onlyOwner &#123;\n        require(newClaimWait !&#x3D; claimWait, &quot;RedCheCoin_Dividend_Tracker: Cannot update claimWait to same value&quot;);\n        emit ClaimWaitUpdated(newClaimWait, claimWait);\n        claimWait &#x3D; newClaimWait;\n    &#125;\n \n    function getLastProcessedIndex() external view returns (uint256) &#123;\n        return lastProcessedIndex;\n    &#125;\n \n    function getNumberOfTokenHolders() external view returns (uint256) &#123;\n        return tokenHoldersMap.keys.length;\n    &#125;\n \n \n    function getAccount(address _account)\n    public view returns (\n        address account,\n        int256 index,\n        int256 iterationsUntilProcessed,\n        uint256 withdrawableDividends,\n        uint256 totalDividends,\n        uint256 lastClaimTime,\n        uint256 nextClaimTime,\n        uint256 secondsUntilAutoClaimAvailable) &#123;\n        account &#x3D; _account;\n \n        index &#x3D; tokenHoldersMap.getIndexOfKey(account);\n \n        iterationsUntilProcessed &#x3D; - 1;\n \n        if (index &gt;&#x3D; 0) &#123;\n            if (uint256(index) &gt; lastProcessedIndex) &#123;\n                iterationsUntilProcessed &#x3D; index.sub(int256(lastProcessedIndex));\n            &#125;\n            else &#123;\n                uint256 processesUntilEndOfArray &#x3D; tokenHoldersMap.keys.length &gt; lastProcessedIndex ?\n                tokenHoldersMap.keys.length.sub(lastProcessedIndex) :\n                0;\n \n \n                iterationsUntilProcessed &#x3D; index.add(int256(processesUntilEndOfArray));\n            &#125;\n        &#125;\n \n \n        withdrawableDividends &#x3D; withdrawableDividendOf(account);\n        totalDividends &#x3D; accumulativeDividendOf(account);\n \n        lastClaimTime &#x3D; lastClaimTimes[account];\n \n        nextClaimTime &#x3D; lastClaimTime &gt; 0 ?\n        lastClaimTime.add(claimWait) :\n        0;\n \n        secondsUntilAutoClaimAvailable &#x3D; nextClaimTime &gt; block.timestamp ?\n        nextClaimTime.sub(block.timestamp) :\n        0;\n    &#125;\n \n    function getAccountAtIndex(uint256 index)\n    public view returns (\n        address,\n        int256,\n        int256,\n        uint256,\n        uint256,\n        uint256,\n        uint256,\n        uint256) &#123;\n        if (index &gt;&#x3D; tokenHoldersMap.size()) &#123;\n            return (0x0000000000000000000000000000000000000000, - 1, - 1, 0, 0, 0, 0, 0);\n        &#125;\n \n        address account &#x3D; tokenHoldersMap.getKeyAtIndex(index);\n \n        return getAccount(account);\n    &#125;\n \n    function canAutoClaim(uint256 lastClaimTime) private view returns (bool) &#123;\n        if (lastClaimTime &gt; block.timestamp) &#123;\n            return false;\n        &#125;\n \n        return block.timestamp.sub(lastClaimTime) &gt;&#x3D; claimWait;\n    &#125;\n \n    function setBalance(address payable account, uint256 newBalance) external onlyOwner &#123;\n        if (excludedFromDividends[account]) &#123;\n            return;\n        &#125;\n \n        if (newBalance &gt;&#x3D; minimumTokenBalanceForDividends) &#123;\n            _setBalance(account, newBalance);\n            tokenHoldersMap.set(account, newBalance);\n        &#125;\n        else &#123;\n            _setBalance(account, 0);\n            tokenHoldersMap.remove(account);\n        &#125;\n \n        processAccount(account, true);\n    &#125;\n \n    function process(uint256 gas) public returns (uint256, uint256, uint256) &#123;\n        uint256 numberOfTokenHolders &#x3D; tokenHoldersMap.keys.length;\n \n        if (numberOfTokenHolders &#x3D;&#x3D; 0) &#123;\n            return (0, 0, lastProcessedIndex);\n        &#125;\n \n        uint256 _lastProcessedIndex &#x3D; lastProcessedIndex;\n \n        uint256 gasUsed &#x3D; 0;\n \n        uint256 gasLeft &#x3D; gasleft();\n \n        uint256 iterations &#x3D; 0;\n        uint256 claims &#x3D; 0;\n \n        while (gasUsed &lt; gas &amp;&amp; iterations &lt; numberOfTokenHolders) &#123;\n            _lastProcessedIndex++;\n \n            if (_lastProcessedIndex &gt;&#x3D; tokenHoldersMap.keys.length) &#123;\n                _lastProcessedIndex &#x3D; 0;\n            &#125;\n \n            address account &#x3D; tokenHoldersMap.keys[_lastProcessedIndex];\n \n            if (canAutoClaim(lastClaimTimes[account])) &#123;\n                if (processAccount(payable(account), true)) &#123;\n                    claims++;\n                &#125;\n            &#125;\n \n            iterations++;\n \n            uint256 newGasLeft &#x3D; gasleft();\n \n            if (gasLeft &gt; newGasLeft) &#123;\n                gasUsed &#x3D; gasUsed.add(gasLeft.sub(newGasLeft));\n            &#125;\n \n            gasLeft &#x3D; newGasLeft;\n        &#125;\n \n        lastProcessedIndex &#x3D; _lastProcessedIndex;\n \n        return (iterations, claims, lastProcessedIndex);\n    &#125;\n \n    function processAccount(address payable account, bool automatic) public onlyOwner returns (bool) &#123;\n        uint256 amount &#x3D; _withdrawDividendOfUser(account);\n \n        if (amount &gt; 0) &#123;\n            lastClaimTimes[account] &#x3D; block.timestamp;\n            emit Claim(account, amount, automatic);\n            return true;\n        &#125;\n \n        return false;\n    &#125;\n&#125;","slug":"è¯¦è§£åˆ†çº¢å…¶ä»–ä»£å¸ï¼Œæ·»åŠ æµåŠ¨æ€§åˆçº¦/index","date":"2022-03-18T15:55:32.000Z","categories_index":"Solidity","tags_index":"åŒºå—é“¾,Solidity,æ™ºèƒ½åˆçº¦","author_index":"Bug Designer"},{"id":"bbdea3a6ec34b778554399878ace6b88","title":"ä»£å¸çš„é˜²æœºå™¨äººæœºåˆ¶","content":"solidityé˜²æœºå™¨äººæœ‰ä¸¤ç§æ–¹å¼ä¸€ç§æ˜¯æ ¹æ®åˆ¤æ–­åœ¨å‡ åŒºå—ï¼Œå¦å¤–ä¸€ç§æ˜¯æ ¹æ®æ—¶é—´æ¥æ£€æµ‹\nå…ˆç”¨ç¬¬ä¸€ç§åˆ¤æ–­æ—¶é—´æ¥æ£€æµ‹æœºå™¨äººï¼Œç…§ä¾‹ç”¨ä»¥å‰çš„ä»£ç å†æ–°åŠ åˆ¤æ–­æœºå™¨äººçš„é€»è¾‘\n&#x2F;&#x2F; SPDX-License-Identifier: MIT\npragma solidity ^0.6.2;\nimport &quot;.&#x2F;ERC20.sol&quot;;\ncontract Token is ERC20&#123;\n \n   string private _name;    &#x2F;&#x2F;å¸åå­—\n    string private _symbol;      &#x2F;&#x2F;å¸ç¬¦å·\n    address public deadwallet &#x3D; 0x0000000000000000000000000000000000000000;    &#x2F;&#x2F;é”€æ¯åœ°å€\n    address public LiquityWallet;            &#x2F;&#x2F;é“¸å¸é’±åŒ…\n    mapping(address &#x3D;&gt; bool) public _isBlacklisted;    &#x2F;&#x2F;æ˜¯å¦æ˜¯é»‘åå•,trueè¡¨ç¤ºè¿™ä¸ªåœ°å€æ˜¯é»‘åå•\n     uint256 public tradingEnabledTimestamp &#x3D; 1627779600; &#x2F;&#x2F;10:00pm       &#x2F;&#x2F;2021-08-1 9:00:00çš„æ—¶é—´æˆ³ï¼Œè¿™é‡Œè®¾ç½®å¼€ç›˜æ—¶é—´ï¼Œå¼€ç›˜æ—¶é—´é€»è¾‘åé¢å†æï¼Œè¿™é‡Œå…ˆæ³¨é‡é˜²æœºå™¨äºº\n    &#x2F;*\n     * @dev è¿”å›ä»£å¸çš„åå­—\n     *&#x2F;\n    function name() public view virtual returns (string memory) &#123;\n        return _name;\n    &#125;\n    &#x2F;**\n     * @dev è¿”å›ä»£å¸çš„ç¬¦å·\n     *&#x2F;\n    function symbol() public view virtual returns (string memory) &#123;\n        return _symbol;\n    &#125;\n    &#x2F;**\n     * è¿”å›ä»£å¸ç²¾åº¦\n     *&#x2F;\n    function decimals() public pure virtual returns (uint8) &#123;\n        return 18;\n    &#125;\n    constructor() public&#123;\n        _name&#x3D;&#39;Token&#39;;\n        _symbol&#x3D;&#39;Tk&#39;;\n        _mint(msg.sender, 10000000000000 * (10 ** 18));            &#x2F;&#x2F;é“¸å¸ç»™è¿æ¥æ­¤åˆçº¦çš„è´¦å·äº10000000000000ä¸ªå¸;\n        LiquityWallet&#x3D;msg.sender;\n    &#125;\n     &#x2F;&#x2F;äº¤æ˜“å‡½æ•°\n     function _transfer(address recipient, uint256 amount) public returns (bool) &#123;\n        require(!_isBlacklisted[msg.sender], &#39;Blacklisted address&#39;);      &#x2F;&#x2F;å¦‚æœå‘é€æ–¹æ˜¯é»‘åå•åˆ™ç¦æ­¢äº¤æ˜“\n        if(LiquityWallet!&#x3D;msg.sender) return super.transfer(recipient, amount); &#x2F;&#x2F;å¦‚æœé“¸å¸æ–¹æ˜¯å‘é€æ–¹åˆ™ä¸éœ€è¦é”€æ¯\n         if(block.timestamp &lt;&#x3D; tradingEnabledTimestamp + 9 seconds) &#123;  &#x2F;&#x2F;å½“å‰å—çš„æ—¶é—´æˆ³å°äºç­‰äº å¯äº¤æ˜“æ—¶é—´æˆ³+9ç§’ã€‚\n            addBot(msg.sender);                                   &#x2F;&#x2F;æŠŠå½“å‰åœ°å€æ·»åŠ é»‘åå•\n         &#125;                                 \n        uint256 BurnWallet &#x3D; amount.mul(5).div(100);       &#x2F;&#x2F;é”€æ¯ç™¾åˆ†ä¹‹5\n        uint256 trueAmount &#x3D; amount.sub(BurnWallet);   &#x2F;&#x2F;å‰©ä¸‹çš„95%å°±æ˜¯è¦å‘é€çš„\n        super.transfer(deadwallet, BurnWallet);          &#x2F;&#x2F;é”€æ¯è¿™ç™¾åˆ†ä¹‹5\n        return super.transfer(recipient, trueAmount);     &#x2F;&#x2F;å‘é€é‚£95%çš„ä»£å¸\n    &#125;\n    \n    function _transferFrom(address sender, address recipient, uint256 amount) public returns (bool) &#123;\n        require(!_isBlacklisted[msg.sender], &#39;Blacklisted address&#39;);      &#x2F;&#x2F;å¦‚æœå‘é€æ–¹æ˜¯é»‘åå•åˆ™ç¦æ­¢äº¤æ˜“\n        if(LiquityWallet!&#x3D;msg.sender) return super.transfer(recipient, amount); &#x2F;&#x2F;å¦‚æœé“¸å¸æ–¹æ˜¯å‘é€æ–¹åˆ™ä¸éœ€è¦é”€æ¯\n         if(block.timestamp &lt;&#x3D; tradingEnabledTimestamp + 9 seconds) &#123;  &#x2F;&#x2F;å½“å‰å—çš„æ—¶é—´æˆ³å°äºç­‰äº å¯äº¤æ˜“æ—¶é—´æˆ³+9ç§’ã€‚\n            addBot(msg.sender);                                   &#x2F;&#x2F;æŠŠå½“å‰åœ°å€æ·»åŠ é»‘åå•\n         &#125; \n        uint256 BurnWallet &#x3D; amount.mul(5).div(100);       &#x2F;&#x2F;é”€æ¯ç™¾åˆ†ä¹‹5\n        uint256 trueAmount &#x3D; amount.sub(BurnWallet);       &#x2F;&#x2F;å‰©ä¸‹çš„95å°±æ˜¯è¦å‘é€çš„\n        super.transferFrom(sender, deadwallet, BurnWallet);   &#x2F;&#x2F;é”€æ¯è¿™ç™¾åˆ†ä¹‹5\n        return super.transferFrom(sender, recipient, trueAmount);  &#x2F;&#x2F;å‘é€é‚£95%çš„ä»£å¸\n    &#125;\n        &#x2F;&#x2F;è®¾ç½®é»‘åå•åœ°å€\n    function blacklistAddress(address account, bool value) public &#123;\n        _isBlacklisted[account] &#x3D; value;   &#x2F;&#x2F;å¦‚æœæ˜¯trueå°±æ˜¯é»‘åå•\n    &#125;\n    &#x2F;&#x2F;æ·»åŠ é»‘åå•çš„å‡½æ•°\n    function addBot(address recipient) private &#123;\n        if (!_isBlacklisted[recipient]) _isBlacklisted[recipient] &#x3D; true;\n    &#125;\n&#125;\nåœ¨ä¸Šé¢çš„ä»£ç ä¸­é˜²æœºå™¨äººé€»è¾‘ä¸»è¦æ˜¯å¦‚æœæœºå™¨äººåœ¨å¼€ç›˜9ç§’å†…ä¹°çš„å°±æ‹‰è¿›é»‘åå•ï¼Œä¸ç»™äº¤æ˜“ã€‚\nç¬¬äºŒç§æ–¹å¼ä»£ç ï¼š\n&#x2F;&#x2F; SPDX-License-Identifier: MIT\npragma solidity ^0.6.2;\nimport &quot;.&#x2F;ERC20.sol&quot;;\ncontract Token is ERC20&#123;\n \n   string private _name;    &#x2F;&#x2F;å¸åå­—\n    string private _symbol;      &#x2F;&#x2F;å¸ç¬¦å·\n    address public deadwallet &#x3D; 0x0000000000000000000000000000000000000000;    &#x2F;&#x2F;é”€æ¯åœ°å€\n    address public LiquityWallet;            &#x2F;&#x2F;é“¸å¸é’±åŒ…\n    mapping(address &#x3D;&gt; bool) public _isBlacklisted;    &#x2F;&#x2F;æ˜¯å¦æ˜¯é»‘åå•,trueè¡¨ç¤ºè¿™ä¸ªåœ°å€æ˜¯é»‘åå•\n     uint256 public tradingEnabledTimestamp &#x3D; 1627779600;       &#x2F;&#x2F;2021-08-1 9:00:00çš„æ—¶é—´æˆ³ï¼Œè¿™é‡Œè®¾ç½®å¼€ç›˜æ—¶é—´ï¼Œå¼€ç›˜æ—¶é—´é€»è¾‘åé¢å†æï¼Œè¿™é‡Œå…ˆæ³¨é‡é˜²æœºå™¨äºº\n     uint256 public launchedAt&#x3D;0;                                   \n    &#x2F;*\n     * @dev è¿”å›ä»£å¸çš„åå­—\n     *&#x2F;\n    function name() public view virtual returns (string memory) &#123;\n        return _name;\n    &#125;\n    &#x2F;**\n     * @dev è¿”å›ä»£å¸çš„ç¬¦å·\n     *&#x2F;\n    function symbol() public view virtual returns (string memory) &#123;\n        return _symbol;\n    &#125;\n    &#x2F;**\n     * è¿”å›ä»£å¸ç²¾åº¦\n     *&#x2F;\n    function decimals() public pure virtual returns (uint8) &#123;\n        return 18;\n    &#125;\n    constructor() public&#123;\n        _name&#x3D;&#39;Token&#39;;\n        _symbol&#x3D;&#39;Tk&#39;;\n        _mint(msg.sender, 10000000000000 * (10 ** 18));            &#x2F;&#x2F;é“¸å¸ç»™è¿æ¥æ­¤åˆçº¦çš„è´¦å·äº10000000000000ä¸ªå¸;\n        LiquityWallet&#x3D;msg.sender;\n    &#125;\n     &#x2F;&#x2F;äº¤æ˜“å‡½æ•°\n     function _transfer(address recipient, uint256 amount) public returns (bool) &#123;\n        require(!_isBlacklisted[msg.sender], &#39;Blacklisted address&#39;);      &#x2F;&#x2F;å¦‚æœå‘é€æ–¹æ˜¯é»‘åå•åˆ™ç¦æ­¢äº¤æ˜“\n        if(LiquityWallet!&#x3D;msg.sender) return super.transfer(recipient, amount); &#x2F;&#x2F;å¦‚æœé“¸å¸æ–¹æ˜¯å‘é€æ–¹åˆ™ä¸éœ€è¦é”€æ¯\n        if (launchedAt &#x3D;&#x3D; 0) &#123;   \n            launchedAt &#x3D; block.number;                       &#x2F;&#x2F;åˆå§‹åŒ–lauchAtèµ‹å€¼å½“å‰å—çš„æ•°é‡\n        &#125;\n        if (block.number &lt; launchedAt + 3) &#123;                     &#x2F;&#x2F;å¦‚æœåœ¨3ä¸ªåŒºé—´å†…æŠ¢åˆ°\n                 addBot(msg.sender);                                    &#x2F;&#x2F;åˆ™æ·»åŠ é»‘åå•\n        &#125;                                 \n        uint256 BurnWallet &#x3D; amount.mul(5).div(100);       &#x2F;&#x2F;é”€æ¯ç™¾åˆ†ä¹‹5\n        uint256 trueAmount &#x3D; amount.sub(BurnWallet);   &#x2F;&#x2F;å‰©ä¸‹çš„95%å°±æ˜¯è¦å‘é€çš„\n        super.transfer(deadwallet, BurnWallet);          &#x2F;&#x2F;é”€æ¯è¿™ç™¾åˆ†ä¹‹5\n        return super.transfer(recipient, trueAmount);     &#x2F;&#x2F;å‘é€é‚£95%çš„ä»£å¸\n    &#125;\n    \n    function _transferFrom(address sender, address recipient, uint256 amount) public returns (bool) &#123;\n        require(!_isBlacklisted[msg.sender], &#39;Blacklisted address&#39;);      &#x2F;&#x2F;å¦‚æœå‘é€æ–¹æ˜¯é»‘åå•åˆ™ç¦æ­¢äº¤æ˜“\n        if(LiquityWallet!&#x3D;msg.sender) return super.transfer(recipient, amount); &#x2F;&#x2F;å¦‚æœé“¸å¸æ–¹æ˜¯å‘é€æ–¹åˆ™ä¸éœ€è¦é”€æ¯\n         if (launchedAt &#x3D;&#x3D; 0) &#123;   \n            launchedAt &#x3D; block.number;                       &#x2F;&#x2F;åˆå§‹åŒ–lauchAtèµ‹å€¼å½“å‰å—çš„æ•°é‡\n        &#125;\n        if (block.number &lt; launchedAt + 3) &#123;                     &#x2F;&#x2F;å¦‚æœåœ¨3ä¸ªåŒºé—´å†…æŠ¢åˆ°\n                 addBot(msg.sender);                                    &#x2F;&#x2F;åˆ™æ·»åŠ é»‘åå•\n        &#125;\n        uint256 BurnWallet &#x3D; amount.mul(5).div(100);       &#x2F;&#x2F;é”€æ¯ç™¾åˆ†ä¹‹5\n        uint256 trueAmount &#x3D; amount.sub(BurnWallet);       &#x2F;&#x2F;å‰©ä¸‹çš„95å°±æ˜¯è¦å‘é€çš„\n        super.transferFrom(sender, deadwallet, BurnWallet);   &#x2F;&#x2F;é”€æ¯è¿™ç™¾åˆ†ä¹‹5\n        return super.transferFrom(sender, recipient, trueAmount);  &#x2F;&#x2F;å‘é€é‚£95%çš„ä»£å¸\n    &#125;\n        &#x2F;&#x2F;è®¾ç½®é»‘åå•åœ°å€\n    function blacklistAddress(address account, bool value) public &#123;\n        _isBlacklisted[account] &#x3D; value;   &#x2F;&#x2F;å¦‚æœæ˜¯trueå°±æ˜¯é»‘åå•\n    &#125;\n    &#x2F;&#x2F;æ·»åŠ é»‘åå•çš„å‡½æ•°\n    function addBot(address recipient) private &#123;\n        if (!_isBlacklisted[recipient]) _isBlacklisted[recipient] &#x3D; true;\n    &#125;\n&#125;","slug":"ä»£å¸çš„é˜²æœºå™¨äººæœºåˆ¶/index","date":"2022-03-18T15:50:26.000Z","categories_index":"Solidity","tags_index":"åŒºå—é“¾,Solidity","author_index":"Bug Designer"},{"id":"39ca82df4b5e6da28b6e5b90eb3517e9","title":"æ•™ä½ å‘è¡ŒBSCé“¾ä¸Šå¯åˆ†å…¶ä»–ä»£å¸|å«è¥é”€é’±åŒ…|é€šç¼©|å›æµ æ™ºèƒ½åˆçº¦","content":"æ”¯æŒåˆ†çº¢SHIB ETH USDT DOGEç­‰BSCæ‰€æœ‰ä»£å¸ã€‚\nRemixhttps://remix.ethereum.org/\nç¼–è¯‘/å¼€æºå‚æ•°COMPILER: v0.8.4+commit.e28d00a7.js\nEnable optimization: å¼€å¯å¹¶ä½¿ç”¨é»˜è®¤å€¼200\nOther Settings: default evmVersion, MIT license\nåˆçº¦æ ¸å¿ƒæºç \nconstructor(\n    string memory name_,\n    string memory symbol_,\n    uint256 totalSupply_,\n    address[2] memory addrs, &#x2F;&#x2F; reward, marketing wallet\n    uint256[3] memory feeSettings, &#x2F;&#x2F; rewards, liquidity, marketing\n    uint256 minimumTokenBalanceForDividends_\n) payable ERC20(name_, symbol_) &#123;\n    rewardToken &#x3D; addrs[0];\n    _marketingWalletAddress &#x3D; addrs[1];\n    require(\n        msg.sender !&#x3D; _marketingWalletAddress,\n        &quot;Owner and marketing wallet cannot be the same&quot;\n    );\n    totalSupply_ &#x3D; totalSupply_ * 10**18;\n    tokenRewardsFee &#x3D; feeSettings[0];\n    liquidityFee &#x3D; feeSettings[1];\n    marketingFee &#x3D; feeSettings[2];\n    totalFees &#x3D; tokenRewardsFee.add(liquidityFee).add(marketingFee);\n    require(totalFees &lt;&#x3D; 25, &quot;Total fee is over 25%&quot;);\n    swapTokensAtAmount &#x3D; totalSupply_.mul(2).div(10**6); &#x2F;&#x2F; 0.002%\n\n    &#x2F;&#x2F; use by default 300,000 gas to process auto-claiming dividends\n    gasForProcessing &#x3D; 300000;\n\n    dividendTracker &#x3D; BABYTOKENDividendTracker(\n        payable(Clones.clone(0xD2EE2Be66DD5Dd596469CDbac00b5Ad2554F80ea))\n    );\n    dividendTracker.initialize(\n        rewardToken,\n        minimumTokenBalanceForDividends_\n    );\n\n    IUniswapV2Router02 _uniswapV2Router &#x3D; IUniswapV2Router02(0x10ED43C718714eb63d5aA57B78B54704E256024E);\n    &#x2F;&#x2F; Create a uniswap pair for this new token\n    address _uniswapV2Pair &#x3D; IUniswapV2Factory(_uniswapV2Router.factory())\n        .createPair(address(this), _uniswapV2Router.WETH());\n    uniswapV2Router &#x3D; _uniswapV2Router;\n    uniswapV2Pair &#x3D; _uniswapV2Pair;\n    _setAutomatedMarketMakerPair(_uniswapV2Pair, true);\n\n    &#x2F;&#x2F; exclude from receiving dividends\n    dividendTracker.excludeFromDividends(address(dividendTracker));\n    dividendTracker.excludeFromDividends(address(this));\n    dividendTracker.excludeFromDividends(owner());\n    dividendTracker.excludeFromDividends(address(0xdead));\n    dividendTracker.excludeFromDividends(address(_uniswapV2Router));\n    &#x2F;&#x2F; exclude from paying fees or having max transaction amount\n    excludeFromFees(owner(), true);\n    excludeFromFees(_marketingWalletAddress, true);\n    excludeFromFees(address(this), true);\n    &#x2F;*\n        _mint is an internal function in ERC20.sol that is only called here,\n        and CANNOT be called ever again\n    *&#x2F;\n    _mint(owner(), totalSupply_);\n\n    emit TokenCreated(owner(), address(this), TokenType.baby, VERSION);\n\n    payable(serviceFeeReceiver_).transfer(serviceFee_);\n&#125;\n\nreceive() external payable &#123;&#125;\n\nfunction updateDividendTracker(address newAddress) public onlyOwner &#123;\n    require(\n        newAddress !&#x3D; address(dividendTracker),\n        &quot;BABYTOKEN: The dividend tracker already has that address&quot;\n    );\n\n    BABYTOKENDividendTracker newDividendTracker &#x3D; BABYTOKENDividendTracker(\n        payable(newAddress)\n    );\n\n    require(\n        newDividendTracker.owner() &#x3D;&#x3D; address(this),\n        &quot;BABYTOKEN: The new dividend tracker must be owned by the BABYTOKEN token contract&quot;\n    );\n\n    newDividendTracker.excludeFromDividends(address(newDividendTracker));\n    newDividendTracker.excludeFromDividends(address(this));\n    newDividendTracker.excludeFromDividends(owner());\n    newDividendTracker.excludeFromDividends(address(uniswapV2Router));\n\n    emit UpdateDividendTracker(newAddress, address(dividendTracker));\n\n    dividendTracker &#x3D; newDividendTracker;\n&#125;\n\n \n\n\néƒ¨ç½²å‚æ•°Valueå¡«å†™ï¼š200000000000000000 CONTRACT é€‰æ‹© Babytokenï¼Œname_: BTC COIN (ä»£å¸åç§°)symbol_: BTC (ä»£å¸ç®€ç§°)totalSupply_: 21000000 (å‘è¡Œé‡ å‘å¤šå°‘å°±å†™å¤šå°‘)addds_: [â€œ0x2859e4544C4bB03966803b044A93563Bd2D0DD4Dâ€,â€0x2859e4544C4bB03966803b044A93563Bd2D0DD4Dâ€] (è¦åˆ†çº¢çš„ä»£å¸åˆçº¦ã€è¥é”€é’±åŒ…)feeSettings_: [4,3,1] (åˆ†çº¢ã€æµåŠ¨æ€§ã€è¥é”€é’±åŒ…)minimumTokenBalanceForDividends_: 10000000000000000000000 (æŒæœ‰å¤šå°‘ä»£å¸å‚ä¸åˆ†çº¢ã€‚æ•°é‡åè¦åŠ 18ä¸ª0)\nBSCå¸¸ç”¨ä»£å¸åˆçº¦åœ°å€SHIB: 0x2859e4544C4bB03966803b044A93563Bd2D0DD4DUSDT: 0x55d398326f99059fF775485246999027B3197955ETH:  0x2170Ed0880ac9A755fd29B2688956BD959F933F8DOGE: 0xbA2aE424d960c26247Dd6c32edC70B295c744C43BUSD: 0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56CAKE: 0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82\næœ‰ä»»ä½•é—®é¢˜è¯·è”ç³»QQï¼š2510472590\n","slug":"æ•™ä½ å‘è¡ŒBSCé“¾ä¸Šå¯åˆ†å…¶ä»–ä»£å¸-å«è¥é”€é’±åŒ…-é€šç¼©-å›æµ-æ™ºèƒ½åˆçº¦/index","date":"2022-03-17T18:50:05.000Z","categories_index":"å‘å¸æ•™ç¨‹","tags_index":"åŒºå—é“¾,BSC,æ•™ç¨‹","author_index":"Bug Designer"},{"id":"b0741c11219613863ac494c737cd8897","title":"Linuxå¸¸è§å‘½ä»¤","content":"1.å¸¸è§æ“ä½œå‘½ä»¤cd home, cd home&#x2F;tomcat # å®šä½åˆ°æŸä¸ªç›®å½•\ncd ..&#x2F; # å›åˆ°ä¸Šä¸€å±‚ç›®å½•\nls # æ˜¾ç¤ºå½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶\ntabé”® # è‡ªåŠ¨å®Œæˆ\nmkdir æ–‡ä»¶å¤¹å # æ–°å»ºæ–‡ä»¶å¤¹\nmv æ—§åç§° æ–°åç§° # ç§»åŠ¨æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥é‡å‘½å\nrm -rf æ–‡ä»¶å # åˆ é™¤æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­ï¼Œrè¡¨ç¤ºé€’å½’åˆ é™¤å­æ–‡ä»¶ï¼Œfè¡¨ç¤ºå¼ºåˆ¶åˆ é™¤æ— éœ€ç¡®è®¤\næŸä¸ªå‘½ä»¤ --help # linuxä¸‹å¤§éƒ¨åˆ†å‘½ä»¤æŸ¥çœ‹å¸®åŠ©æ–¹æ³•\ncp -r æ—§æ–‡ä»¶å¤¹å æ–°æ–‡ä»¶å¤¹å # å¤åˆ¶æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶ï¼Œ-rè¡¨ç¤ºé€’å½’\nchmod 777 startup.sh # ç»™æŸä¸ªæ–‡ä»¶æ·»åŠ æ‰§è¡Œæƒé™\ncurl http:&#x2F;&#x2F;liuxianan.com # è®¿é—®æŸä¸ªç½‘å€ï¼Œè¿”å›HTMLä»£ç \nwget http:&#x2F;&#x2F;xxx.com&#x2F;123.zip # ä¸‹è½½æ–‡ä»¶\npkill nodeï¼Œpkill nginx # å¼ºåˆ¶æ€æ­»æŸä¸ªè¿›ç¨‹\nå…¶å®ƒï¼š\npwd # æŸ¥çœ‹å½“å‰ç›®å½•\nwhoami # æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·\nwhich æŸä¸ªå‘½ä»¤ # æŸ¥çœ‹æŸä¸ªå‘½ä»¤åœ¨pathä¸­æ‰€åœ¨è·¯å¾„\nwhere æŸä¸ªå‘½ä»¤ # ç£ç›˜æœç´¢æŸä¸ªå‘½ä»¤\n2.æŸ¥çœ‹ç£ç›˜ç©ºé—´ã€æ–‡ä»¶å¤§å°df -h # æŸ¥çœ‹æ‰€æœ‰ç£ç›˜å‰©ä½™ç©ºé—´\ndu -h # æŸ¥çœ‹å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶å¤¹å¤§å°ï¼ˆåŒ…æ‹¬å­æ–‡ä»¶å¤¹ï¼‰ï¼Œ-h æ˜¯è½¬æ¢æˆå‹å¥½æ ¼å¼æ˜¾ç¤º\ndu -h æ–‡ä»¶å¤¹åç§° # æŸ¥çœ‹æŸä¸ªæ–‡ä»¶å¤¹å¤§å°ï¼ˆåŒ…æ‹¬å­æ–‡ä»¶å¤¹ï¼‰ï¼Œç”±äºä¼šåŒ…æ‹¬å­æ–‡ä»¶ï¼Œæ‰€ä»¥ä¸è¦åœ¨æ ¹ç›®å½•è¿è¡Œæ­¤å‘½ä»¤ï¼Œå¦åˆ™è¦ç­‰å¾ˆä¹…\ndu -sh æ–‡ä»¶å¤¹åç§° # æŸ¥çœ‹æŸä¸ªæ–‡ä»¶å¤¹å¤§å°ï¼ˆä¸åŒ…æ‹¬å­æ–‡ä»¶å¤¹ï¼‰\nå¾ˆå¤šäººæ—¶é—´ä¸€é•¿éƒ½åˆ†ä¸æ¸…dfå’Œduï¼Œè¯¥å¦‚ä½•è®°å¿†å‘¢ï¼Ÿè¿™æ ·è®°ï¼š\ndf &#x3D;&#x3D; Disk Free &#x3D;&#x3D; ç£ç›˜å‰©ä½™ç©ºé—´\ndu &#x3D;&#x3D; Disk Usage &#x3D;&#x3D; ç£ç›˜å·²ä½¿ç”¨ç©ºé—´\nå¦å¤–æ³¨æ„ï¼Œåœ¨æ²¡æœ‰åˆ†åŒºå’Œæ ¼å¼åŒ–æ•°æ®ç›˜ä¹‹å‰ï¼Œä½¿ç”¨ df â€“hå‘½ä»¤ï¼Œæ˜¯æ— æ³•çœ‹åˆ°æ•°æ®ç›˜çš„ï¼Œå¯ä»¥ä½¿ç”¨fdisk -lå‘½ä»¤æŸ¥çœ‹ã€‚\n3.ä¿®æ”¹hostsç›´æ¥vi /etc/hostsï¼Œä¿®æ”¹å®Œåè·Ÿwindowsä¸€æ ·ä¼šç«‹å³ç”Ÿæ•ˆã€‚\n4.è§£å‹å‹ç¼©ç›¸å…³å‘½ä»¤4.1. tartar -cvf FileName.tar DirName # æ‰“åŒ…ï¼Œå…¶ä¸­cè¡¨ç¤ºcreateï¼Œvè¡¨ç¤ºverboselyï¼ˆæ˜¾ç¤ºè¿‡ç¨‹ï¼‰\ntar -xvf FileName.tar # è§£åŒ…ï¼Œå…¶ä¸­xè¡¨ç¤ºextract\næ³¨æ„ï¼šä»¥ä¸Šå‘½ä»¤åªæ˜¯æ‰“åŒ…ï¼Œä¸æ˜¯å‹ç¼©ï¼\n4.2. gzgzipåªèƒ½å‹ç¼©å•ä¸ªæ–‡ä»¶ï¼š\ngzip FileName # å‹ç¼©ï¼Œä¸ä¼šä¿ç•™æºæ–‡ä»¶\ngzip -d FileName.gz # è§£å‹\n4.3. tar.gz å’Œ tgztar -zcvf FileName.tar.gz DirName # å‹ç¼©ï¼Œæ³¨æ„æ˜¯å…ˆå†™è¾“å‡ºæ–‡ä»¶åï¼Œå†å†™æ–‡ä»¶å¤¹å\ntar -zxvf FileName.tar.gz # è§£å‹åˆ°å½“å‰ç›®å½•ï¼Œæ–‡ä»¶ååœ¨åŸå§‹åŸºç¡€ä¸Šå»æ‰åç¼€\n\n\n","slug":"Linuxå¸¸è§å‘½ä»¤/index","date":"2022-03-16T17:39:07.000Z","categories_index":"æ“ä½œç³»ç»Ÿ","tags_index":"Linux","author_index":"Bug Designer"},{"id":"36c610caa1e43df0d3165a993cf0c93d","title":"Javaä½¿ç”¨Web3jè¿›è¡Œethå’Œtokenè½¬è´¦","content":"ETHè½¬è´¦public static void transfer() throws Exception &#123;\n    Web3j web3j = Web3j.build(new HttpService(\"infuraèŠ‚ç‚¹é“¾æ¥\"));\n    BigInteger bigInteger = new BigInteger(\"é’±åŒ…ç§é’¥\", 16);\n    ECKeyPair ecKeyPair = ECKeyPair.create(bigInteger);\n    Credentials credentials = Credentials.create(ecKeyPair);\n    TransactionReceipt transactionReceipt = Transfer.sendFunds(web3j, credentials, \"ç›®æ ‡åœ°å€\", BigDecimal.valueOf(0.001), Convert.Unit.ETHER).send();\n    System.out.println(transactionReceipt);\n&#125;\nTokenè½¬è´¦public static void transferToken() throws Exception &#123;\n    Web3j web3j = Web3j.build(new HttpService(\"infuraèŠ‚ç‚¹é“¾æ¥\"));\n    BigInteger bigInteger = new BigInteger(\"ç§é’¥\", 16);\n    ECKeyPair ecKeyPair = ECKeyPair.create(bigInteger);\n    Credentials credentials = Credentials.create(ecKeyPair);\n    String fromAddress = credentials.getAddress();\n    EthGetTransactionCount ethGetTransactionCount = web3j.ethGetTransactionCount(\n            fromAddress, DefaultBlockParameterName.LATEST).sendAsync().get();\n    BigInteger nonce = ethGetTransactionCount.getTransactionCount();\n\n    Address address = new Address(\"ç›®æ ‡åœ°å€\");\n    Uint256 value = new Uint256(new BigInteger(\"æ•°é‡ å•ä½wei\"));\n    List&lt;Type> parametersList = new ArrayList&lt;>();\n    parametersList.add(address);\n    parametersList.add(value);\n    List&lt;TypeReference&lt;?>> outList = new ArrayList&lt;>();\n    Function function = new Function(\"transfer\", parametersList, outList);\n    String encodedFunction = FunctionEncoder.encode(function);\n    System.out.println( DefaultGasProvider.GAS_PRICE);\n    System.out.println(DefaultGasProvider.GAS_LIMIT);\n    RawTransaction rawTransaction = RawTransaction.createTransaction(nonce,  DefaultGasProvider.GAS_PRICE,\n            new BigInteger(\"210000\"), \"åˆçº¦åœ°å€\", encodedFunction);\n    byte[] signedMessage = TransactionEncoder.signMessage(rawTransaction, credentials);\n    String hexValue = Numeric.toHexString(signedMessage);\n    EthSendTransaction ethSendTransaction = web3j.ethSendRawTransaction(hexValue).sendAsync().get();\n    Object transactionHash = ethSendTransaction.getTransactionHash();\n    System.out.println(transactionHash.toString());\n&#125;\n","slug":"Javaä½¿ç”¨Web3jè¿›è¡Œethå’Œtokenè½¬è´¦/index","date":"2022-03-16T17:03:24.000Z","categories_index":"Web3","tags_index":"åŒºå—é“¾,Java,Web3j","author_index":"Bug Designer"},{"id":"3185ced86f4b8df05c544660439ae3e8","title":"æ•™ä½ æ™ºèƒ½åˆçº¦æ”¾å¼ƒæ‰€æœ‰æƒ","content":"å‡†å¤‡å·¥ä½œ\nERC20æ ‡å‡†ä»£å¸ä¼šè‡ªå·±å‘è¡Œ\nå‡†å¤‡å¥½ã€æƒé™æ§åˆ¶ã€‘ç›¸å…³ä»£ç \næœ‰è¶³å¤Ÿçš„å¸æ¥æ”¯ä»˜gasè´¹ç”¨\n\nå¯¹å‘å¸ƒæ™ºèƒ½åˆçº¦æœ‰ç–‘é—®è¯·å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ã€Šä»é›¶æ•™ä½ å‘è¡Œè‡ªå·±çš„ä»¥å¤ªåŠERC20æ™ºèƒ½åˆçº¦ã€‹\nç›¸å…³æ“ä½œè¯·åœ¨éœ€è¦æ‹¥æœ‰ã€ä¸¢å¼ƒæƒé™ã€‘åŠŸèƒ½çš„åˆçº¦ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œå‘å¸å®Œæˆåæ‰§è¡ŒrenounceOwnership()å‡½æ•°å³å¯å®Œæˆä¸¢å¼ƒæƒé™æ“ä½œï¼Œæ­¤æ—¶æƒé™åœ°å€ä¸º0x0000000000000000000000000000000000000000\n\n\n\n\n\n\n\n\n\næ³¨ï¼šrenounceOwnership()æ“ä½œä¸å¯æŒ½å›ï¼\ncontract Ownable is Context &#123;\n    address private _owner;\n\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\n\n    &#x2F;&#x2F;æ„é€ å‡½æ•°\n    constructor () internal &#123;\n        address msgSender &#x3D; _msgSender();\n        _owner &#x3D; msgSender;\n        emit OwnershipTransferred(address(0), msgSender);\n    &#125;\n\n    &#x2F;&#x2F;æƒé™æ‰€æœ‰äºº\n    function owner() public view returns (address) &#123;\n        return _owner;\n    &#125;\n\n    &#x2F;**\n     * åªæœ‰ç®¡ç†å‘˜å¯ä»¥æ“ä½œ\n     *&#x2F;\n    modifier onlyOwner() &#123;\n        require(_owner &#x3D;&#x3D; _msgSender(), &quot;Ownable: caller is not the owner&quot;);\n        _;\n    &#125;\n\n     &#x2F;**\n     * ä¸¢å¼ƒæƒé™\n     *&#x2F;\n    function renounceOwnership() public virtual onlyOwner &#123;\n        emit OwnershipTransferred(_owner, address(0));\n        _owner &#x3D; address(0);\n    &#125;\n\n    &#x2F;**\n     * @dev å°†åˆåŒçš„æ‰€æœ‰æƒè½¬ç§»åˆ°ä¸€ä¸ªæ–°å¸æˆ·ï¼ˆâ€œnewOwnerâ€ï¼‰ã€‚\n\t *      åªèƒ½ç”±å½“å‰æ‰€æœ‰è€…è°ƒç”¨ã€‚\n     *&#x2F;\n    function transferOwnership(address newOwner) public virtual onlyOwner &#123;\n        require(newOwner !&#x3D; address(0), &quot;Ownable: new owner is the zero address&quot;);\n        emit OwnershipTransferred(_owner, newOwner);\n        _owner &#x3D; newOwner;\n    &#125;\n&#125;","slug":"æ•™ä½ æ™ºèƒ½åˆçº¦æ”¾å¼ƒæ‰€æœ‰æƒ/index","date":"2022-03-16T16:53:39.000Z","categories_index":"å‘å¸æ•™ç¨‹","tags_index":"åŒºå—é“¾,æ•™ç¨‹","author_index":"Bug Designer"},{"id":"a182aad2ec9a53a04c3cddb2b5345335","title":"æ‰‹æŠŠæ‰‹æ•™ä½ åœ¨openseaå‡ºå”®è‡ªå·±çš„NFT","content":"ä¸€ã€é“¾æ¥é’±åŒ…æœ¬æ–‡æ‰€ä½¿ç”¨Rinkebyç½‘ç»œï¼Œæ‰“å¼€å®˜ç½‘é“¾æ¥é’±åŒ…\näºŒã€å‘è¡ŒERC721æ™ºèƒ½åˆçº¦1ã€ä½¿ç”¨remixéƒ¨ç½²è¿‡ç¨‹å‚è€ƒerc20æ™ºèƒ½åˆçº¦ï¼Œè¯¦è§è¿™ç¯‡æ–‡ç« \n2ã€åœ¨æµè§ˆå™¨ä¸Šè¿›è¡Œåˆçº¦å¼€æºå¼€æºçš„ç›®çš„æ˜¯ä¸ºäº†æ›´å¥½çš„ä½¿ç”¨é“¸é€ æ–¹æ³•é“¾æ¥é’±åŒ…åæˆ‘ä»¬ä½¿ç”¨é“¸é€ æ–¹æ³•è¿›è¡Œéƒ¨ç½²æ™ºèƒ½åˆçº¦æ­¤å¤„æ³¨æ„åœ¨uriæ ä¸­éœ€è¦å¡«å…¥æ™ºèƒ½åˆçº¦å…ƒæ•°æ®ï¼ŒåŒ…å«ä½†ä¸é™äºåç§°ã€logoã€æè¿°ç­‰ä¿¡æ¯ï¼Œç›¸è§å®˜ç½‘æ–‡æ¡£\n3ã€é“¸é€ å®Œæˆåå³å¯åœ¨ã€æˆ‘çš„æ”¶é›†ã€‘ä¸­çœ‹åˆ°è¿™ä¸ªé¡¹ç›®äº†ç‚¹å‡»è¿›å…¥åå³å¯çœ‹åˆ°æˆ‘ä»¬è®¾ç½®çš„ç›¸å…³ä¿¡æ¯\nç»“å°¾è‡³æ­¤åœ¨openseaä¸Šå‘è¡Œæˆ‘ä»¬è‡ªå·±çš„erc721æ™ºèƒ½åˆçº¦æ•™å­¦å³å®Œæˆäº†\n","slug":"æ‰‹æŠŠæ‰‹æ•™ä½ åœ¨openseaå‡ºå”®è‡ªå·±çš„NFT/index","date":"2022-03-16T16:51:15.000Z","categories_index":"å‘å¸æ•™ç¨‹","tags_index":"åŒºå—é“¾,æ•™ç¨‹","author_index":"Bug Designer"},{"id":"578d782843ce03dcc508f17328e6af31","title":"æ‰‹æŠŠæ‰‹æ•™ä½ åœ¨BSCä¸»é“¾ä¸Šå‘å¸|BSCå‘å¸","content":"ä¸€ã€ä»€ä¹ˆæ˜¯å¸å®‰æ™ºèƒ½é“¾ï¼Ÿ\n\n\n\n\n\n\n\n\nå¸å®‰æ™ºèƒ½é“¾ï¼ˆBSCï¼‰å¯ä»¥è¢«æè¿°ä¸ºä¸å¸å®‰é“¾å¹¶è¡Œçš„åŒºå—é“¾ã€‚ä¸å¸å®‰é“¾ä¸åŒçš„åœ°æ–¹åœ¨äºï¼ŒBSCæ‹¥æœ‰æ™ºèƒ½åˆçº¦åŠŸèƒ½å¹¶ä¸ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰å…¼å®¹ã€‚è¿™é‡Œçš„è®¾è®¡ç›®æ ‡æ˜¯ä¿æŒå®Œæ•´å¸å®‰é“¾çš„é«˜ååé‡ï¼ŒåŒæ—¶å°†æ™ºèƒ½åˆçº¦å¼•å…¥å…¶ç”Ÿæ€ç³»ç»Ÿã€‚\næœ¬è´¨ä¸Šä¸¤ä¸ªåŒºå—é“¾éƒ½æ˜¯å¹¶è¡Œçš„ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯BSCå¹¶éæ‰€è°“çš„ç¬¬äºŒå±‚æˆ–é“¾å¤–æ‰©å±•æ€§è§£å†³æ–¹æ¡ˆã€‚å®ƒæ˜¯ä¸€ä¸ªå³ä½¿å¸å®‰é“¾ä¸‹çº¿åä¹Ÿå¯ä»¥è¿è¡Œçš„ç‹¬ç«‹åŒºå—é“¾ã€‚ä»è®¾è®¡çš„è§’åº¦æ¥çœ‹ï¼Œè¿™ä¸¤ä¸ªé“¾éå¸¸ç›¸ä¼¼ã€‚\nç”±äºBSCä¸EVMå…¼å®¹ï¼Œå› æ­¤å®ƒæ”¯æŒä»¥å¤ªåŠå·¥å…·å’ŒDAppã€‚ç†è®ºä¸Šè®²è¿™ä½¿å¼€å‘äººå‘˜å¯ä»¥è½»æ¾åœ°ä»ä»¥å¤ªåŠç§»æ¤å…¶é¡¹ç›®ã€‚å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œè¿™è¡¨ç¤ºä»–ä»¬å¯ä»¥è½»æ¾é…ç½®è¯¸å¦‚MetaMaskä¹‹ç±»çš„åº”ç”¨ç¨‹åºä¸BSCä¸€èµ·ä½¿ç”¨ï¼Œåªéœ€è°ƒæ•´å‡ ä¸ªè®¾ç½®å³å¯ã€‚\näºŒã€ç›¸å…³ä¿¡æ¯å®˜ç½‘ï¼šhttps://www.binance.org/cn\nåŒºå—é“¾æµè§ˆå™¨ï¼šhttps://bscscan.com/\nå¼€å‘æ–‡æ¡£ï¼šhttps://docs.binance.org/index.html\nä¸‰ã€å‘æ™ºèƒ½åˆçº¦æ•™ç¨‹1ã€å®‰è£…metamaskæ’ä»¶ä¸‹è½½åœ°å€ï¼šhttps://metamask.io/\n2ã€æ·»åŠ è‡ªå®šä¹‰ç½‘ç»œï¼šchainid: 56\nrpc: https://bsc-dataseed.binance.org/\nscan: https://bscscan.com\n3ã€ä½¿ç”¨Remixéƒ¨ç½²åˆçº¦Remixæ˜¯åœ¨çº¿çš„åˆçº¦å¼€å‘å’Œéƒ¨ç½²å·¥å…·ã€‚é¦–å…ˆæ‰“å¼€Remixé¡µé¢\n\nå·¦ä¾§æ–‡ä»¶æµè§ˆå™¨å†…ï¼Œæ–°å»ºæ–‡ä»¶ï¼Œæ¯”å¦‚Example.solï¼Œåœ¨å³ä¾§ç¼–è¾‘åˆçº¦å†…å®¹ã€‚\n\nç¼–è¯‘åˆçº¦\nç‚¹å‡»å·¦ä¾§æŒ‰é’®ï¼Œåˆ‡æ¢åˆ°ç¼–è¯‘ç•Œé¢ï¼›\né€‰æ‹©å¯¹åº”çš„åˆçº¦ï¼›\nè®¾ç½®ç›¸å…³çš„ç¼–è¯‘é€‰é¡¹ï¼›\nç‚¹å‡»ç¼–è¯‘æŒ‰é’®è¿›è¡Œç¼–è¯‘ï¼›\n\næ¥ä¸‹æ¥è¦å°†ç¼–è¯‘åçš„åˆçº¦éƒ¨ç½²åˆ°é“¾ä¸Š\n\næœ€åä¸€æ­¥ç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ä»¥ç­¾ç½²äº¤æ˜“å¹¶å‘BSCå¹¿æ’­äº¤æ˜“\n","slug":"æ‰‹æŠŠæ‰‹æ•™ä½ åœ¨BSCä¸»é“¾ä¸Šå‘å¸-BSCå‘å¸/index","date":"2022-03-16T10:38:19.000Z","categories_index":"å‘å¸æ•™ç¨‹","tags_index":"åŒºå—é“¾,BSC,æ•™ç¨‹","author_index":"Bug Designer"}]