{"title":"教你智能合约放弃所有权","uid":"3185ced86f4b8df05c544660439ae3e8","slug":"教你智能合约放弃所有权/index","date":"2022-03-16T16:53:39.000Z","updated":"2022-03-24T16:21:16.169Z","comments":true,"path":"api/articles/教你智能合约放弃所有权/index.json","keywords":null,"cover":null,"content":"<h1 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h1><ol>\n<li>ERC20标准代币会自己发行</li>\n<li>准备好【权限控制】相关代码</li>\n<li>有足够的币来支付gas费用</li>\n</ol>\n<p>对发布智能合约有疑问请参考我的另一篇文章<a href=\"https://sdzczh.blog.csdn.net/article/details/82793942\">《从零教你发行自己的以太坊ERC20智能合约》</a></p>\n<h1 id=\"相关操作\"><a href=\"#相关操作\" class=\"headerlink\" title=\"相关操作\"></a>相关操作</h1><p>请在需要拥有【丢弃权限】功能的合约中添加以下代码，发币完成后执行<code>renounceOwnership()</code>函数即可完成丢弃权限操作，此时权限地址为<code>0x0000000000000000000000000000000000000000</code></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>注：<code>renounceOwnership()</code>操作不可挽回！</p></blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">contract Ownable is Context &#123;\n    address private _owner;\n\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\n\n    &#x2F;&#x2F;构造函数\n    constructor () internal &#123;\n        address msgSender &#x3D; _msgSender();\n        _owner &#x3D; msgSender;\n        emit OwnershipTransferred(address(0), msgSender);\n    &#125;\n\n    &#x2F;&#x2F;权限所有人\n    function owner() public view returns (address) &#123;\n        return _owner;\n    &#125;\n\n    &#x2F;**\n     * 只有管理员可以操作\n     *&#x2F;\n    modifier onlyOwner() &#123;\n        require(_owner &#x3D;&#x3D; _msgSender(), &quot;Ownable: caller is not the owner&quot;);\n        _;\n    &#125;\n\n     &#x2F;**\n     * 丢弃权限\n     *&#x2F;\n    function renounceOwnership() public virtual onlyOwner &#123;\n        emit OwnershipTransferred(_owner, address(0));\n        _owner &#x3D; address(0);\n    &#125;\n\n    &#x2F;**\n     * @dev 将合同的所有权转移到一个新帐户（“newOwner”）。\n\t *      只能由当前所有者调用。\n     *&#x2F;\n    function transferOwnership(address newOwner) public virtual onlyOwner &#123;\n        require(newOwner !&#x3D; address(0), &quot;Ownable: new owner is the zero address&quot;);\n        emit OwnershipTransferred(_owner, newOwner);\n        _owner &#x3D; newOwner;\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","feature":false,"text":"准备工作 ERC20标准代币会自己发行 准备好【权限控制】相关代码 有足够的币来支付gas费用 对发布智能合约有疑问请参考我的另一篇文章《从零教你发行自己的以太坊ERC20智能合约》 相关操作请在需要拥有【丢弃权限】功能的合约中添加以下代码，发币完成后执行renounceOwne...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"发币教程","slug":"发币教程","count":4,"path":"api/categories/发币教程.json"}],"tags":[{"name":"区块链","slug":"区块链","count":10,"path":"api/tags/区块链.json"},{"name":"教程","slug":"教程","count":4,"path":"api/tags/教程.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">准备工作</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">相关操作</span></a></li></ol>","author":{"name":"Bug Designer","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"<p><font face=\"微软雅黑\" color=\"red\"><b>QQ：2510472590</b></font></p><p><b>工作时间12:00 - 02:00</b></p>","socials":{"github":"https://github.com/sdzczh","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/zgsdzczh?type=blog","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Java使用Web3j进行eth和token转账","uid":"36c610caa1e43df0d3165a993cf0c93d","slug":"Java使用Web3j进行eth和token转账/index","date":"2022-03-16T17:03:24.000Z","updated":"2022-03-24T16:21:22.060Z","comments":true,"path":"api/articles/Java使用Web3j进行eth和token转账/index.json","keywords":null,"cover":null,"text":"ETH转账public static void transfer() throws Exception &#123; Web3j web3j = Web3j.build(new HttpService(\"infura节点链接\")); BigInteger bigInteger =...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"Web3","slug":"Web3","count":1,"path":"api/categories/Web3.json"}],"tags":[{"name":"区块链","slug":"区块链","count":10,"path":"api/tags/区块链.json"},{"name":"Java","slug":"Java","count":1,"path":"api/tags/Java.json"},{"name":"Web3j","slug":"Web3j","count":1,"path":"api/tags/Web3j.json"}],"author":{"name":"Bug Designer","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"<p><font face=\"微软雅黑\" color=\"red\"><b>QQ：2510472590</b></font></p><p><b>工作时间12:00 - 02:00</b></p>","socials":{"github":"https://github.com/sdzczh","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/zgsdzczh?type=blog","juejin":"","customs":{}}},"feature":false},"next_post":{}}